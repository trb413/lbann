<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>LBANN: Getting Started</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">LBANN
   &#160;<span id="projectnumber">v0.93-606-gca499c9-ci377629231</span>
   </div>
   <div id="projectbrief">LivermoreBigArtificialNeuralNetworkToolkit</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('getting_started.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Getting Started </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="getting_started_download"></a>
Download</h1>
<p>LBANN can be cloned from the <a href="https://github.com/LLNL/lbann">GitHub repository</a>:</p>
<div class="fragment"><div class="line">$ git clone https:<span class="comment">//github.com/LLNL/lbann.git</span></div>
</div><!-- fragment --><h1><a class="anchor" id="getting_started_building"></a>
Building LBANN</h1>
<p>The build process for LBANN differs on a machine to machine basis. This section describes the build process for <a class="el" href="getting_started.html#lc">Livermore Computing Build</a>, <a class="el" href="getting_started.html#spack">Spack Build</a>, and <a class="el" href="getting_started.html#osx">OSX Build</a>. For users attempting to build on systems not listed above, refer to the LBANN <a class="el" href="getting_started.html#dependencies">Dependency List</a>.</p>
<h2><a class="anchor" id="lc"></a>
Livermore Computing Build</h2>
<p>Building on LC systems is supported via a build script. To run this script navigate to the LBANN directory and run</p>
<div class="fragment"><div class="line">$ build_lbann_lc.sh </div>
</div><!-- fragment --><p> located in scripts/. This will create a per system build located in the build directory in the main LBANN directory.</p>
<h2><a class="anchor" id="spack"></a>
Spack Build</h2>
<h2><a class="anchor" id="osx"></a>
OSX Build</h2>
<h2><a class="anchor" id="dependencies"></a>
Dependency List</h2>
<p>LBANN requires the following to build and operate.</p>
<ul>
<li>CMake</li>
<li>MPI</li>
<li>Elemental</li>
<li>OpenCV</li>
<li>CuDA (optional)</li>
<li>cuDNN (optional)</li>
<li>Protocol Buffers (optional)</li>
<li>Doxygen (optional)</li>
</ul>
<h1><a class="anchor" id="getting_started_basicusage"></a>
Basic Usage</h1>
<p>LBANN is run via the lbann executable with command line arguments consisting of prototext files. The lbann executable is located within the specific machine build directory's model_zoo directory. The prototext files are located within the main lbann directory's model_zoo directory. Lbann requires three prototext files as input: model, data reader, and optimizer. The model and reader must be paired based on the data required by the model (i.e MNIST model and MNIST reader). Therefore an example execution from the main lbann directory on Catalyst would be: </p>
<div class="fragment"><div class="line">$ build/catalyst.llnl.gov/model_zoo/lbann \</div>
<div class="line">--<a class="code" href="namespacelbann.html#adee41f31f15f3906cbdcce4a1417eb56a20f35e630daf44dbfa4c3f68f5399d8c">model</a>=model_zoo/prototext/model_mnist_multi.prototext \</div>
<div class="line">--reader=model_zoo/prototext/data_reader_mnist.prototext \</div>
<div class="line">--optimizer=model_zoo/prototext/opt_adagrad.prototext</div>
</div><!-- fragment --><h2><a class="anchor" id="verification"></a>
Verification</h2>
<p>To verify functionality of LBANN users can run a test MNIST experiment. Using the command found in the <a class="el" href="getting_started.html#getting_started_basicusage">Basic Usage</a> section and 2 MPI ranks (srun -n2) should produce the following results on Catalyst: </p>
<div class="fragment"><div class="line">--------------------------------------------------------------------------------</div>
<div class="line">[20] Epoch : stats formated [tr/v/te] iter/<a class="code" href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688a3388c74e6308ba994ce6b75fd4710251">epoch</a> = [2700/600/1000]</div>
<div class="line">global MB = [  20/  10/  10] global last MB = [  20/  10/  10]</div>
<div class="line">local MB = [  10/  10/  10]  local last MB = [  10/  10/  10]</div>
<div class="line">--------------------------------------------------------------------------------</div>
<div class="line">Model 0 @54000 steps Training categorical accuracy: 99.9741% @12000 <a class="code" href="base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8aa617908b172c473cb8e8cda059e55bf0">validation</a> steps Validation categorical accuracy: 97.95%</div>
<div class="line">Model 1 @54000 steps Training categorical accuracy: 99.9926% @12000 <a class="code" href="base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8aa617908b172c473cb8e8cda059e55bf0">validation</a> steps Validation categorical accuracy: 97.9833%</div>
<div class="line">Model 0 <a class="code" href="base_8hpp.html#ac47a6ee5278a53898222a48639a2bf39a6927a3a7218a3195858411433ec20a21">average</a> categorical cross entropy: 0.00176223</div>
<div class="line">Model 1 <a class="code" href="base_8hpp.html#ac47a6ee5278a53898222a48639a2bf39a6927a3a7218a3195858411433ec20a21">average</a> categorical cross entropy: 0.00126326</div>
<div class="line">Model 0 Epoch time: 62.8982s; Mean minibatch time: 0.0218984s; Min: 0.0214709s; Max: 0.0306295s; Stdev: 0.000214515s</div>
<div class="line">Model 1 Epoch time: 62.9628s; Mean minibatch time: 0.0219376s; Min: 0.0216846s; Max: 0.127405s; Stdev: 0.00204183s</div>
<div class="line">Model 0 @20000 <a class="code" href="base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8aae2b1fca515949e5d54fb22b8ed95575">testing</a> steps external <a class="code" href="base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8aa617908b172c473cb8e8cda059e55bf0">validation</a> categorical accuracy: 98.32%</div>
<div class="line">Model 1 @20000 <a class="code" href="base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8aae2b1fca515949e5d54fb22b8ed95575">testing</a> steps external <a class="code" href="base_8hpp.html#a2781a159088df64ed7d47cc91c4dc0a8aa617908b172c473cb8e8cda059e55bf0">validation</a> categorical accuracy: 98.27%</div>
</div><!-- fragment --><p> LBANN performance will vary on a machine to machine basis. Results will also vary, but should not do so significantly. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri May 11 2018 08:30:00 for LBANN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
