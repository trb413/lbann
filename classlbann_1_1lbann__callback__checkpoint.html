<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>LBANN: lbann::lbann_callback_checkpoint Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">LBANN
   &#160;<span id="projectnumber">v0.93-606-gca499c9-ci377629231</span>
   </div>
   <div id="projectbrief">LivermoreBigArtificialNeuralNetworkToolkit</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classlbann_1_1lbann__callback__checkpoint.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classlbann_1_1lbann__callback__checkpoint-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">lbann::lbann_callback_checkpoint Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for lbann::lbann_callback_checkpoint:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint__inherit__graph.png" border="0" usemap="#lbann_1_1lbann__callback__checkpoint_inherit__map" alt="Inheritance graph"/></div>
<map name="lbann_1_1lbann__callback__checkpoint_inherit__map" id="lbann_1_1lbann__callback__checkpoint_inherit__map">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback.html" title="lbann::lbann_callback" alt="" coords="5,5,152,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for lbann::lbann_callback_checkpoint:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint__coll__graph.png" border="0" usemap="#lbann_1_1lbann__callback__checkpoint_coll__map" alt="Collaboration graph"/></div>
<map name="lbann_1_1lbann__callback__checkpoint_coll__map" id="lbann_1_1lbann__callback__checkpoint_coll__map">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback.html" title="lbann::lbann_callback" alt="" coords="8,96,155,123"/><area shape="rect" id="node3" href="classlbann_1_1lbann__summary.html" title="lbann::lbann_summary" alt="" coords="5,5,157,32"/><area shape="rect" id="node4" href="classlbann_1_1persist.html" title="lbann::persist" alt="" coords="179,96,279,123"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae4730c09f05af8e9080d5f1588d09b12"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#ae4730c09f05af8e9080d5f1588d09b12">lbann_callback_checkpoint</a> (std::string checkpoint_dir, int checkpoint_epochs, int checkpoint_steps, int checkpoint_secs, std::string per_rank_dir, int ckpt_dist_epochs, int ckpt_dist_steps)</td></tr>
<tr class="separator:ae4730c09f05af8e9080d5f1588d09b12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a954c1b3f33fc293151d5bf37a8053628"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a954c1b3f33fc293151d5bf37a8053628">lbann_callback_checkpoint</a> (const <a class="el" href="classlbann_1_1lbann__callback__checkpoint.html">lbann_callback_checkpoint</a> &amp;)=default</td></tr>
<tr class="separator:a954c1b3f33fc293151d5bf37a8053628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab65cb67b53e6af00142a9dc665f9ce8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html">lbann_callback_checkpoint</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#aab65cb67b53e6af00142a9dc665f9ce8">operator=</a> (const <a class="el" href="classlbann_1_1lbann__callback__checkpoint.html">lbann_callback_checkpoint</a> &amp;)=default</td></tr>
<tr class="separator:aab65cb67b53e6af00142a9dc665f9ce8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63dc49f38f063f9b85d9abdf8b2855aa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html">lbann_callback_checkpoint</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a63dc49f38f063f9b85d9abdf8b2855aa">copy</a> () const override</td></tr>
<tr class="separator:a63dc49f38f063f9b85d9abdf8b2855aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a383654a7bb70672dfc9fef679f4b509f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a383654a7bb70672dfc9fef679f4b509f">setup</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m) override</td></tr>
<tr class="separator:a383654a7bb70672dfc9fef679f4b509f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a406bfba673e503e94ae6eb57aff6a78e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a406bfba673e503e94ae6eb57aff6a78e">on_epoch_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m) override</td></tr>
<tr class="separator:a406bfba673e503e94ae6eb57aff6a78e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a476527e2b7b44dd3623e01f63ddb5f78"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a476527e2b7b44dd3623e01f63ddb5f78">on_batch_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m) override</td></tr>
<tr class="separator:a476527e2b7b44dd3623e01f63ddb5f78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fb4288c03b1ce14681b72562e9471b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a5fb4288c03b1ce14681b72562e9471b2">on_validation_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m) override</td></tr>
<tr class="separator:a5fb4288c03b1ce14681b72562e9471b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc9b6a01e100893c2dd0cfc7090c4079"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#adc9b6a01e100893c2dd0cfc7090c4079">set_checkpoint_dir</a> (std::string dir)</td></tr>
<tr class="separator:adc9b6a01e100893c2dd0cfc7090c4079"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a718cf388085e51253a84c494511d1fb7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a718cf388085e51253a84c494511d1fb7">set_checkpoint_epochs</a> (int epochs)</td></tr>
<tr class="separator:a718cf388085e51253a84c494511d1fb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa385a1dda770ddf7a801134b96d3fcfd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#aa385a1dda770ddf7a801134b96d3fcfd">set_checkpoint_steps</a> (int steps)</td></tr>
<tr class="separator:aa385a1dda770ddf7a801134b96d3fcfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91a0e5627986654d719930ba5eeebc9e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a91a0e5627986654d719930ba5eeebc9e">set_checkpoint_secs</a> (<a class="el" href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a> secs)</td></tr>
<tr class="separator:a91a0e5627986654d719930ba5eeebc9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5d626bddbdc1233af8539259a9e7149"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#ae5d626bddbdc1233af8539259a9e7149">set_per_rank_dir</a> (std::string dir)</td></tr>
<tr class="separator:ae5d626bddbdc1233af8539259a9e7149"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a779d483df641171b9c67bd6b9a748b41"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a779d483df641171b9c67bd6b9a748b41">set_ckpt_dist_epochs</a> (int ckpt_dist_epochs)</td></tr>
<tr class="separator:a779d483df641171b9c67bd6b9a748b41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d2290a06d9455099bd74226769e8816"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a0d2290a06d9455099bd74226769e8816">set_ckpt_dist_steps</a> (int ckpt_dist_steps)</td></tr>
<tr class="separator:a0d2290a06d9455099bd74226769e8816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e5f396667ccc45f7203263b06c5e216"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a2e5f396667ccc45f7203263b06c5e216">need_checkpoint</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a2e5f396667ccc45f7203263b06c5e216"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91b67075524d549ef970c1ac6087c904"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a91b67075524d549ef970c1ac6087c904">checkpoint</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a91b67075524d549ef970c1ac6087c904"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d3aa52046aa7f71d70bb7e0ad478a6c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a2d3aa52046aa7f71d70bb7e0ad478a6c">restart</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a2d3aa52046aa7f71d70bb7e0ad478a6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1afa81c9638bf76fb6ecfe91d07a88e"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#aa1afa81c9638bf76fb6ecfe91d07a88e">name</a> () const override</td></tr>
<tr class="separator:aa1afa81c9638bf76fb6ecfe91d07a88e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classlbann_1_1lbann__callback"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classlbann_1_1lbann__callback')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classlbann_1_1lbann__callback.html">lbann::lbann_callback</a></td></tr>
<tr class="memitem:a679057298a41ddd47f08c157f756c584 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a679057298a41ddd47f08c157f756c584">lbann_callback</a> (int batch_interval=1, <a class="el" href="classlbann_1_1lbann__summary.html">lbann_summary</a> *summarizer=nullptr)</td></tr>
<tr class="separator:a679057298a41ddd47f08c157f756c584 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91d994616b8bf98685ac32939228f96a inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a91d994616b8bf98685ac32939228f96a">lbann_callback</a> (const <a class="el" href="classlbann_1_1lbann__callback.html">lbann_callback</a> &amp;)=default</td></tr>
<tr class="separator:a91d994616b8bf98685ac32939228f96a inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66b0a8c00a273669fa782ece59e8898b inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1lbann__callback.html">lbann_callback</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a66b0a8c00a273669fa782ece59e8898b">operator=</a> (const <a class="el" href="classlbann_1_1lbann__callback.html">lbann_callback</a> &amp;)=default</td></tr>
<tr class="separator:a66b0a8c00a273669fa782ece59e8898b inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac91abaec389f8d2547512c45ae587304 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#ac91abaec389f8d2547512c45ae587304">~lbann_callback</a> ()</td></tr>
<tr class="separator:ac91abaec389f8d2547512c45ae587304 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02d924df2f8ca851578dc76d9015e48d inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a02d924df2f8ca851578dc76d9015e48d">set_summarizer</a> (<a class="el" href="classlbann_1_1lbann__summary.html">lbann_summary</a> *summarizer)</td></tr>
<tr class="separator:a02d924df2f8ca851578dc76d9015e48d inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c8f0d211967ccc5219144e92571ab26 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a7c8f0d211967ccc5219144e92571ab26">on_train_begin</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a7c8f0d211967ccc5219144e92571ab26 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af28078b0ddaef45124465bef01eefedf inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#af28078b0ddaef45124465bef01eefedf">on_train_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:af28078b0ddaef45124465bef01eefedf inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace7452239c9ad7aa6247e9496adbcffe inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#ace7452239c9ad7aa6247e9496adbcffe">on_phase_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:ace7452239c9ad7aa6247e9496adbcffe inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ed9498763412a55953fff71ee3a9456 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a4ed9498763412a55953fff71ee3a9456">on_epoch_begin</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a4ed9498763412a55953fff71ee3a9456 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ecf4e44cd4021cdd687de14c850cc83 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a9ecf4e44cd4021cdd687de14c850cc83">on_batch_begin</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a9ecf4e44cd4021cdd687de14c850cc83 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a716bff45bdc5a88eed09c2231f5bc93a inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a716bff45bdc5a88eed09c2231f5bc93a">on_test_begin</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a716bff45bdc5a88eed09c2231f5bc93a inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accbad4dd004c1ced33642db6398b2efe inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#accbad4dd004c1ced33642db6398b2efe">on_test_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:accbad4dd004c1ced33642db6398b2efe inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bde303671110519388d9962bc3e5583 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a2bde303671110519388d9962bc3e5583">on_validation_begin</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a2bde303671110519388d9962bc3e5583 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22ed977371173105b4aad3a20b9c59dc inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a22ed977371173105b4aad3a20b9c59dc">on_forward_prop_begin</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a22ed977371173105b4aad3a20b9c59dc inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab96adb1d77180e00fdd668cd381323fd inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#ab96adb1d77180e00fdd668cd381323fd">on_forward_prop_begin</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m, <a class="el" href="classlbann_1_1Layer.html">Layer</a> *l)</td></tr>
<tr class="separator:ab96adb1d77180e00fdd668cd381323fd inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79a0bb407852d7b330b74373647ffe46 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a79a0bb407852d7b330b74373647ffe46">on_forward_prop_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a79a0bb407852d7b330b74373647ffe46 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eff0a59fbce98a981d9cdd0547a3ad5 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a5eff0a59fbce98a981d9cdd0547a3ad5">on_forward_prop_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m, <a class="el" href="classlbann_1_1Layer.html">Layer</a> *l)</td></tr>
<tr class="separator:a5eff0a59fbce98a981d9cdd0547a3ad5 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c0709a26179d115ff85b7561786ee27 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a2c0709a26179d115ff85b7561786ee27">on_backward_prop_begin</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a2c0709a26179d115ff85b7561786ee27 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeb1e486e259fd358332abf1e952f630 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#abeb1e486e259fd358332abf1e952f630">on_backward_prop_begin</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m, <a class="el" href="classlbann_1_1Layer.html">Layer</a> *l)</td></tr>
<tr class="separator:abeb1e486e259fd358332abf1e952f630 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af183624e63ba65e0003fa988f53dee0c inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#af183624e63ba65e0003fa988f53dee0c">on_backward_prop_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:af183624e63ba65e0003fa988f53dee0c inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba03b59c056ace8094095c08e39b9ac4 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#aba03b59c056ace8094095c08e39b9ac4">on_backward_prop_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m, <a class="el" href="classlbann_1_1Layer.html">Layer</a> *l)</td></tr>
<tr class="separator:aba03b59c056ace8094095c08e39b9ac4 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a9248b305f06419889c1b3b0f0893d8 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a1a9248b305f06419889c1b3b0f0893d8">on_optimize_begin</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a1a9248b305f06419889c1b3b0f0893d8 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a497e750da160e0071ce8864ccc3a1344 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a497e750da160e0071ce8864ccc3a1344">on_optimize_begin</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m, <a class="el" href="classlbann_1_1weights.html">weights</a> *w)</td></tr>
<tr class="separator:a497e750da160e0071ce8864ccc3a1344 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a235195d5fa4461835b861a03a5c0278f inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a235195d5fa4461835b861a03a5c0278f">on_optimize_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a235195d5fa4461835b861a03a5c0278f inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4653e2903bfd3903709a81eaf7eabc1a inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a4653e2903bfd3903709a81eaf7eabc1a">on_optimize_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m, <a class="el" href="classlbann_1_1weights.html">weights</a> *w)</td></tr>
<tr class="separator:a4653e2903bfd3903709a81eaf7eabc1a inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3462e54126adbd0082c22c98d8de5468 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a3462e54126adbd0082c22c98d8de5468">on_batch_evaluate_begin</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a3462e54126adbd0082c22c98d8de5468 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad10891b8ab3de74ee1a70e6255e7d58a inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#ad10891b8ab3de74ee1a70e6255e7d58a">on_batch_evaluate_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:ad10891b8ab3de74ee1a70e6255e7d58a inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a2cff48a688bb56ed14b8b53344f945 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a4a2cff48a688bb56ed14b8b53344f945">on_evaluate_forward_prop_begin</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a4a2cff48a688bb56ed14b8b53344f945 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a044174864e4981a1dac093d58e8c4d6c inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a044174864e4981a1dac093d58e8c4d6c">on_evaluate_forward_prop_begin</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m, <a class="el" href="classlbann_1_1Layer.html">Layer</a> *l)</td></tr>
<tr class="separator:a044174864e4981a1dac093d58e8c4d6c inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0794f3fb88db6fef53f0e2f235f94424 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a0794f3fb88db6fef53f0e2f235f94424">on_evaluate_forward_prop_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m)</td></tr>
<tr class="separator:a0794f3fb88db6fef53f0e2f235f94424 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae23c5a61b81dbdfbd79736ac2b6035aa inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#ae23c5a61b81dbdfbd79736ac2b6035aa">on_evaluate_forward_prop_end</a> (<a class="el" href="classlbann_1_1model.html">model</a> *m, <a class="el" href="classlbann_1_1Layer.html">Layer</a> *l)</td></tr>
<tr class="separator:ae23c5a61b81dbdfbd79736ac2b6035aa inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6d75ab4527a3a966207fa91f8484077 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#aa6d75ab4527a3a966207fa91f8484077">get_batch_interval</a> () const </td></tr>
<tr class="separator:aa6d75ab4527a3a966207fa91f8484077 inherit pub_methods_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ac89386fda60744e6399f97003fea3711"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#ac89386fda60744e6399f97003fea3711">m_checkpoint_dir</a></td></tr>
<tr class="separator:ac89386fda60744e6399f97003fea3711"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6f4399effadedb26e33fc39a3c6915e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#ad6f4399effadedb26e33fc39a3c6915e">m_checkpoint_epochs</a></td></tr>
<tr class="separator:ad6f4399effadedb26e33fc39a3c6915e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6debea7d9bbebd3ee0323acec11516f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#ad6debea7d9bbebd3ee0323acec11516f">m_checkpoint_steps</a></td></tr>
<tr class="separator:ad6debea7d9bbebd3ee0323acec11516f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a285658a96f8546952c9016ef4cc12161"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a285658a96f8546952c9016ef4cc12161">m_checkpoint_secs</a></td></tr>
<tr class="separator:a285658a96f8546952c9016ef4cc12161"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a455235e9a3dfe71f84180dbb47e2a9b7"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a455235e9a3dfe71f84180dbb47e2a9b7">m_per_rank_dir</a></td></tr>
<tr class="separator:a455235e9a3dfe71f84180dbb47e2a9b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a6c86be8ea9a40a6502bfc8b5934954"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a1a6c86be8ea9a40a6502bfc8b5934954">m_ckpt_dist_epochs</a></td></tr>
<tr class="separator:a1a6c86be8ea9a40a6502bfc8b5934954"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42252ac8e107988fae1815c7d471b2a3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a42252ac8e107988fae1815c7d471b2a3">m_ckpt_dist_steps</a></td></tr>
<tr class="separator:a42252ac8e107988fae1815c7d471b2a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a842304929c265ffa9d285e635fbbbbd7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a842304929c265ffa9d285e635fbbbbd7">m_checkpoint_last</a></td></tr>
<tr class="separator:a842304929c265ffa9d285e635fbbbbd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ace1a99633e5401d1af7cf729ad5754"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1persist.html">persist</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a></td></tr>
<tr class="separator:a9ace1a99633e5401d1af7cf729ad5754"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2780cbfb499c9e57e79082b1ba48fc2a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a2780cbfb499c9e57e79082b1ba48fc2a">m_checkpoint_dist</a></td></tr>
<tr class="separator:a2780cbfb499c9e57e79082b1ba48fc2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53ccd38ff53e9e00d94c04f05d5cbf31"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html#a53ccd38ff53e9e00d94c04f05d5cbf31">m_checkpoint_shared</a></td></tr>
<tr class="separator:a53ccd38ff53e9e00d94c04f05d5cbf31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classlbann_1_1lbann__callback"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classlbann_1_1lbann__callback')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classlbann_1_1lbann__callback.html">lbann::lbann_callback</a></td></tr>
<tr class="memitem:a6126e310e9924398c18ccf76bb91c705 inherit pro_attribs_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a6126e310e9924398c18ccf76bb91c705">m_batch_interval</a></td></tr>
<tr class="separator:a6126e310e9924398c18ccf76bb91c705 inherit pro_attribs_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a277d46138184f85f161a8263b8322c76 inherit pro_attribs_classlbann_1_1lbann__callback"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1lbann__summary.html">lbann_summary</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1lbann__callback.html#a277d46138184f85f161a8263b8322c76">m_summarizer</a></td></tr>
<tr class="separator:a277d46138184f85f161a8263b8322c76 inherit pro_attribs_classlbann_1_1lbann__callback"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><ul>
<li>Checkpoint at given interval in given directory </li>
</ul>

<p>Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00039">39</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae4730c09f05af8e9080d5f1588d09b12"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lbann::lbann_callback_checkpoint::lbann_callback_checkpoint </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>checkpoint_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>checkpoint_epochs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>checkpoint_steps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>checkpoint_secs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>per_rank_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ckpt_dist_epochs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ckpt_dist_steps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">checkpoint_dir</td><td>directory to save checkpoint files </td></tr>
    <tr><td class="paramname">checkpoint_epochs</td><td>interval to checkpoint </td></tr>
    <tr><td class="paramname">checkpoint_steps</td><td>interval to checkpoint </td></tr>
    <tr><td class="paramname">checkpoint_secs</td><td>interval to checkpoint </td></tr>
    <tr><td class="paramname">checkpoint_per_rank</td><td>true to save/load a file per mpi rank </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00049">49</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                                                                                                                                                                 : </div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback.html#a679057298a41ddd47f08c157f756c584">lbann_callback</a>(),</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ac89386fda60744e6399f97003fea3711">m_checkpoint_dir</a>(checkpoint_dir),</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ad6f4399effadedb26e33fc39a3c6915e">m_checkpoint_epochs</a>(checkpoint_epochs), </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ad6debea7d9bbebd3ee0323acec11516f">m_checkpoint_steps</a>(checkpoint_steps), </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a285658a96f8546952c9016ef4cc12161">m_checkpoint_secs</a>(checkpoint_secs), </div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a455235e9a3dfe71f84180dbb47e2a9b7">m_per_rank_dir</a>(per_rank_dir),</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a1a6c86be8ea9a40a6502bfc8b5934954">m_ckpt_dist_epochs</a>(ckpt_dist_epochs), </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a42252ac8e107988fae1815c7d471b2a3">m_ckpt_dist_steps</a>(ckpt_dist_steps) {}</div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a285658a96f8546952c9016ef4cc12161"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a285658a96f8546952c9016ef4cc12161">lbann::lbann_callback_checkpoint::m_checkpoint_secs</a></div><div class="ttdeci">EvalType m_checkpoint_secs</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00103">callback_checkpoint.hpp:103</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a42252ac8e107988fae1815c7d471b2a3"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a42252ac8e107988fae1815c7d471b2a3">lbann::lbann_callback_checkpoint::m_ckpt_dist_steps</a></div><div class="ttdeci">int m_ckpt_dist_steps</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00106">callback_checkpoint.hpp:106</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_ad6debea7d9bbebd3ee0323acec11516f"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#ad6debea7d9bbebd3ee0323acec11516f">lbann::lbann_callback_checkpoint::m_checkpoint_steps</a></div><div class="ttdeci">int m_checkpoint_steps</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00102">callback_checkpoint.hpp:102</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a455235e9a3dfe71f84180dbb47e2a9b7"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a455235e9a3dfe71f84180dbb47e2a9b7">lbann::lbann_callback_checkpoint::m_per_rank_dir</a></div><div class="ttdeci">std::string m_per_rank_dir</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00104">callback_checkpoint.hpp:104</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a1a6c86be8ea9a40a6502bfc8b5934954"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a1a6c86be8ea9a40a6502bfc8b5934954">lbann::lbann_callback_checkpoint::m_ckpt_dist_epochs</a></div><div class="ttdeci">int m_ckpt_dist_epochs</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00105">callback_checkpoint.hpp:105</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_ac89386fda60744e6399f97003fea3711"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#ac89386fda60744e6399f97003fea3711">lbann::lbann_callback_checkpoint::m_checkpoint_dir</a></div><div class="ttdeci">std::string m_checkpoint_dir</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00100">callback_checkpoint.hpp:100</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback_html_a679057298a41ddd47f08c157f756c584"><div class="ttname"><a href="classlbann_1_1lbann__callback.html#a679057298a41ddd47f08c157f756c584">lbann::lbann_callback::lbann_callback</a></div><div class="ttdeci">lbann_callback(int batch_interval=1, lbann_summary *summarizer=nullptr)</div><div class="ttdef"><b>Definition:</b> <a href="callback_8hpp_source.html#l00049">callback.hpp:49</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_ad6f4399effadedb26e33fc39a3c6915e"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#ad6f4399effadedb26e33fc39a3c6915e">lbann::lbann_callback_checkpoint::m_checkpoint_epochs</a></div><div class="ttdeci">int m_checkpoint_epochs</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00101">callback_checkpoint.hpp:101</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_ae4730c09f05af8e9080d5f1588d09b12_icgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_ae4730c09f05af8e9080d5f1588d09b12_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_ae4730c09f05af8e9080d5f1588d09b12_icgraph" id="classlbann_1_1lbann__callback__checkpoint_ae4730c09f05af8e9080d5f1588d09b12_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__checkpoint.html#a63dc49f38f063f9b85d9abdf8b2855aa" title="lbann::lbann_callback\l_checkpoint::copy" alt="" coords="240,11,387,53"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a954c1b3f33fc293151d5bf37a8053628"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lbann::lbann_callback_checkpoint::lbann_callback_checkpoint </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlbann_1_1lbann__callback__checkpoint.html">lbann_callback_checkpoint</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a91b67075524d549ef970c1ac6087c904"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::lbann_callback_checkpoint::checkpoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlbann_1_1model.html">model</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="callback__checkpoint_8cpp_source.html#l00154">154</a> of file <a class="el" href="callback__checkpoint_8cpp_source.html">callback_checkpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                                                   {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  <span class="comment">// if the checkpoint directory is not defined, bail</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ac89386fda60744e6399f97003fea3711">m_checkpoint_dir</a>.length() == 0 &amp;&amp; <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a455235e9a3dfe71f84180dbb47e2a9b7">m_per_rank_dir</a>.length() == 0) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="comment">// time how long this takes</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="comment">// read current epoch and step counters from model</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  El::Timer timer;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordtype">char</span> epochdir[1024];</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <span class="keywordtype">char</span> dir[1024];</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688a3388c74e6308ba994ce6b75fd4710251">epoch</a> = -1;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordtype">int</span> step = -1 ;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  lbann_comm *<a class="code" href="file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a> = m-&gt;get_comm();</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="comment">// TODO: we would want to prepend dir with the model name and model rank:</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="comment">// m-&gt;get_name() + &#39;.&#39; + std::to_string(comm-&gt;get_model_rank()) + &#39;.&#39;</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="comment">// However, rng state is not part of model state but that of the world.</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="comment">// So, it needs to be in the root folder.</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  comm-&gt;model_barrier();</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <span class="comment">// let user know we&#39;re saving a checkpoint</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keywordflow">if</span> (comm-&gt;am_model_master()) {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    epoch = m-&gt;get_cur_epoch();</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    step = m-&gt;get_cur_step();</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    timer.Start();</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    printf(<span class="stringliteral">&quot;Checkpoint: epoch %d step %d ...\n&quot;</span>, epoch, step);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    fflush(stdout);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  comm-&gt;model_broadcast(0, epoch);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  comm-&gt;model_broadcast(0, step);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="comment">// Distributed ckpt</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a2780cbfb499c9e57e79082b1ba48fc2a">m_checkpoint_dist</a>){</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="comment">// prepend per rank directory with shared checkpoint dir name</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="comment">// Per rank directory typically a cache location like node local SSDs</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a455235e9a3dfe71f84180dbb47e2a9b7">m_per_rank_dir</a>.length() != 0){</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;      snprintf(dir, <span class="keyword">sizeof</span>(dir), <span class="stringliteral">&quot;%s/%s&quot;</span>, <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a455235e9a3dfe71f84180dbb47e2a9b7">m_per_rank_dir</a>.c_str(), <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ac89386fda60744e6399f97003fea3711">m_checkpoint_dir</a>.c_str());</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;      strcpy(dir, <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ac89386fda60744e6399f97003fea3711">m_checkpoint_dir</a>.c_str());</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <a class="code" href="namespacelbann.html#a8830dea8eef0ab5b93d68e2358ceeb1a">makedir</a>(dir);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="comment">// create directories per ranks</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    snprintf(epochdir, <span class="keyword">sizeof</span>(epochdir), <span class="stringliteral">&quot;%s/rank.%d.epoch.%d.step.%d&quot;</span>, dir, comm-&gt;get_rank_in_model(), <a class="code" href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688a3388c74e6308ba994ce6b75fd4710251">epoch</a>, step);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>.<a class="code" href="classlbann_1_1persist.html#a5bb3c2effb859cf3ca2c5f297acc3195">open_checkpoint</a>(epochdir);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="comment">// Call top level save to checkpoint function in model, in turn calls save to checkpoint functions for other model classes (weights, layers)</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    m-&gt;save_to_checkpoint_distributed(<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>.<a class="code" href="classlbann_1_1persist.html#ab099939d0d91101fbfaf2b85e78be032">close_checkpoint</a>();</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <span class="comment">// Print latest checkpoint to file</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">if</span> (comm-&gt;am_model_master()) {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      <a class="code" href="namespacelbann.html#a35a39e949cfd1d7f8c15f94e4d44ecff">write_latest</a>(dir, <span class="stringliteral">&quot;last.distributed.checkpoint&quot;</span>, epoch, step);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    } </div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  }</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="comment">// Shared checkpoint, logic identical to Distributed.i</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a53ccd38ff53e9e00d94c04f05d5cbf31">m_checkpoint_shared</a>){</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    strcpy(dir, <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ac89386fda60744e6399f97003fea3711">m_checkpoint_dir</a>.c_str());</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="namespacelbann.html#a8830dea8eef0ab5b93d68e2358ceeb1a">makedir</a>(dir);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    snprintf(epochdir, <span class="keyword">sizeof</span>(epochdir), <span class="stringliteral">&quot;%s/shared.model.%d.epoch.%d.step.%d&quot;</span>, dir, comm-&gt;get_model_rank(), <a class="code" href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688a3388c74e6308ba994ce6b75fd4710251">epoch</a>, step);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">if</span> (comm-&gt;am_model_master()) {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>.<a class="code" href="classlbann_1_1persist.html#a5bb3c2effb859cf3ca2c5f297acc3195">open_checkpoint</a>(epochdir);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <span class="comment">// Need to give other ranks knowledge of checkpoint dir for writing of rank specific rng state</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    comm-&gt;model_broadcast(0, &amp;(<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>.<a class="code" href="classlbann_1_1persist.html#a17c2b08ec1815aba6d3eae6502397bb1">m_checkpoint_dir</a>[0]), <span class="keyword">sizeof</span>(<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>.<a class="code" href="classlbann_1_1persist.html#a17c2b08ec1815aba6d3eae6502397bb1">m_checkpoint_dir</a>));</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    m-&gt;save_to_checkpoint_shared(<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="comment">// close our checkpoint</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>.<a class="code" href="classlbann_1_1persist.html#ab099939d0d91101fbfaf2b85e78be032">close_checkpoint</a>();</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">if</span> (comm-&gt;am_model_master()) {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      <a class="code" href="namespacelbann.html#a35a39e949cfd1d7f8c15f94e4d44ecff">write_latest</a>(dir, <span class="stringliteral">&quot;last.shared.checkpoint&quot;</span>, epoch, step);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;   }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  uint64_t bytes_count = <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>.<a class="code" href="classlbann_1_1persist.html#a847ca86b458718f4f9fab9e64c5cad4a">get_bytes</a>();</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  <span class="keywordflow">if</span> (comm-&gt;am_model_master()) {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <a class="code" href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a> secs = timer.Stop();</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <a class="code" href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a> bw = 0;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordflow">if</span> (secs &gt; 0.0) {</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      bw = <a class="code" href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a>(bytes_count) / (secs * 1024.0 * 1024.0);</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    }</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    printf(<span class="stringliteral">&quot;Checkpoint complete: Epoch=%d Step=%d (%f secs, %llu bytes, %f MB/sec)\n&quot;</span>,</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;           epoch, step, secs, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>) bytes_count, bw);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    fflush(stdout);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;  }</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="comment">// record last checkpoint time in case checkpoint_secs interval defined.</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a842304929c265ffa9d285e635fbbbbd7">m_checkpoint_last</a> = MPI_Wtime();</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>.<a class="code" href="classlbann_1_1persist.html#a5e658eea4ecbda51531d8a242442307e">reset_bytes</a>();</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1persist_html_ab099939d0d91101fbfaf2b85e78be032"><div class="ttname"><a href="classlbann_1_1persist.html#ab099939d0d91101fbfaf2b85e78be032">lbann::persist::close_checkpoint</a></div><div class="ttdeci">void close_checkpoint()</div><div class="ttdef"><b>Definition:</b> <a href="persist_8cpp_source.html#l00259">persist.cpp:259</a></div></div>
<div class="ttc" id="base_8hpp_html_a3266f5ac18504bbadea983c109566867"><div class="ttname"><a href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a></div><div class="ttdeci">double EvalType</div><div class="ttdef"><b>Definition:</b> <a href="base_8hpp_source.html#l00063">base.hpp:63</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a2780cbfb499c9e57e79082b1ba48fc2a"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a2780cbfb499c9e57e79082b1ba48fc2a">lbann::lbann_callback_checkpoint::m_checkpoint_dist</a></div><div class="ttdeci">bool m_checkpoint_dist</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00109">callback_checkpoint.hpp:109</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a9ace1a99633e5401d1af7cf729ad5754"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">lbann::lbann_callback_checkpoint::p</a></div><div class="ttdeci">persist p</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00108">callback_checkpoint.hpp:108</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a842304929c265ffa9d285e635fbbbbd7"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a842304929c265ffa9d285e635fbbbbd7">lbann::lbann_callback_checkpoint::m_checkpoint_last</a></div><div class="ttdeci">EvalType m_checkpoint_last</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00107">callback_checkpoint.hpp:107</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a53ccd38ff53e9e00d94c04f05d5cbf31"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a53ccd38ff53e9e00d94c04f05d5cbf31">lbann::lbann_callback_checkpoint::m_checkpoint_shared</a></div><div class="ttdeci">bool m_checkpoint_shared</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00110">callback_checkpoint.hpp:110</a></div></div>
<div class="ttc" id="namespacelbann_html_afb40728fd81916c37e28ea57176ef688a3388c74e6308ba994ce6b75fd4710251"><div class="ttname"><a href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688a3388c74e6308ba994ce6b75fd4710251">lbann::callback_type::epoch</a></div></div>
<div class="ttc" id="file__io_8cpp_html_ab048c6f9fcbcfaa57ce68b00263dbebe"><div class="ttname"><a href="file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a></div><div class="ttdeci">static MPI_Comm comm</div><div class="ttdef"><b>Definition:</b> <a href="file__io_8cpp_source.html#l00044">file_io.cpp:44</a></div></div>
<div class="ttc" id="classlbann_1_1persist_html_a5e658eea4ecbda51531d8a242442307e"><div class="ttname"><a href="classlbann_1_1persist.html#a5e658eea4ecbda51531d8a242442307e">lbann::persist::reset_bytes</a></div><div class="ttdeci">void reset_bytes()</div><div class="ttdef"><b>Definition:</b> <a href="persist_8hpp_source.html#l00085">persist.hpp:85</a></div></div>
<div class="ttc" id="namespacelbann_html_a35a39e949cfd1d7f8c15f94e4d44ecff"><div class="ttname"><a href="namespacelbann.html#a35a39e949cfd1d7f8c15f94e4d44ecff">lbann::write_latest</a></div><div class="ttdeci">static bool write_latest(const char *dir, const char *name, int epoch, int train)</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8cpp_source.html#l00117">callback_checkpoint.cpp:117</a></div></div>
<div class="ttc" id="namespacelbann_html_a8830dea8eef0ab5b93d68e2358ceeb1a"><div class="ttname"><a href="namespacelbann.html#a8830dea8eef0ab5b93d68e2358ceeb1a">lbann::makedir</a></div><div class="ttdeci">int makedir(const char *dirname)</div><div class="ttdef"><b>Definition:</b> <a href="file__io_8cpp_source.html#l00048">file_io.cpp:48</a></div></div>
<div class="ttc" id="classlbann_1_1persist_html_a847ca86b458718f4f9fab9e64c5cad4a"><div class="ttname"><a href="classlbann_1_1persist.html#a847ca86b458718f4f9fab9e64c5cad4a">lbann::persist::get_bytes</a></div><div class="ttdeci">uint64_t get_bytes() const </div><div class="ttdef"><b>Definition:</b> <a href="persist_8hpp_source.html#l00081">persist.hpp:81</a></div></div>
<div class="ttc" id="classlbann_1_1persist_html_a5bb3c2effb859cf3ca2c5f297acc3195"><div class="ttname"><a href="classlbann_1_1persist.html#a5bb3c2effb859cf3ca2c5f297acc3195">lbann::persist::open_checkpoint</a></div><div class="ttdeci">void open_checkpoint(const char *dir)</div><div class="ttdef"><b>Definition:</b> <a href="persist_8cpp_source.html#l00225">persist.cpp:225</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a455235e9a3dfe71f84180dbb47e2a9b7"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a455235e9a3dfe71f84180dbb47e2a9b7">lbann::lbann_callback_checkpoint::m_per_rank_dir</a></div><div class="ttdeci">std::string m_per_rank_dir</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00104">callback_checkpoint.hpp:104</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_ac89386fda60744e6399f97003fea3711"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#ac89386fda60744e6399f97003fea3711">lbann::lbann_callback_checkpoint::m_checkpoint_dir</a></div><div class="ttdeci">std::string m_checkpoint_dir</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00100">callback_checkpoint.hpp:100</a></div></div>
<div class="ttc" id="classlbann_1_1persist_html_a17c2b08ec1815aba6d3eae6502397bb1"><div class="ttname"><a href="classlbann_1_1persist.html#a17c2b08ec1815aba6d3eae6502397bb1">lbann::persist::m_checkpoint_dir</a></div><div class="ttdeci">char m_checkpoint_dir[1024]</div><div class="ttdef"><b>Definition:</b> <a href="persist_8hpp_source.html#l00061">persist.hpp:61</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_a91b67075524d549ef970c1ac6087c904_cgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_a91b67075524d549ef970c1ac6087c904_cgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_a91b67075524d549ef970c1ac6087c904_cgraph" id="classlbann_1_1lbann__callback__checkpoint_a91b67075524d549ef970c1ac6087c904_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1model.html#aa837a468e77991314053a93441d111ca" title="lbann::model::get_comm" alt="" coords="223,5,388,32"/><area shape="rect" id="node3" href="classlbann_1_1lbann__comm.html#a6086ced12c3eefeea6e2a78eff286983" title="lbann::lbann_comm::\lmodel_barrier" alt="" coords="234,57,377,98"/><area shape="rect" id="node5" href="classlbann_1_1lbann__comm.html#a06a31f9df1860358ef0ef68d9e165cac" title="lbann::lbann_comm::\lam_model_master" alt="" coords="459,174,602,215"/><area shape="rect" id="node6" href="classlbann_1_1lbann__comm.html#a206bafe522a0962c450f4fc69d030656" title="lbann::lbann_comm::\lget_rank_in_model" alt="" coords="683,115,826,157"/><area shape="rect" id="node8" href="classlbann_1_1model.html#a675b1c6cb1a0eabca80d6a6de1fbbb08" title="lbann::model::get_cur\l_epoch" alt="" coords="232,849,379,890"/><area shape="rect" id="node9" href="classlbann_1_1model.html#a3753cfdb1b3dac2eec1db5b7b8f9c4d9" title="lbann::model::get_cur_step" alt="" coords="216,915,395,941"/><area shape="rect" id="node10" href="classlbann_1_1lbann__comm.html#a28fa7b33d4a288c47d06b6bf8d99e3af" title="Within&#45;model broadcast of a scalar. " alt="" coords="234,966,377,1007"/><area shape="rect" id="node15" href="namespacelbann.html#a8830dea8eef0ab5b93d68e2358ceeb1a" title="lbann::makedir" alt="" coords="701,619,808,645"/><area shape="rect" id="node16" href="classlbann_1_1persist.html#a5bb3c2effb859cf3ca2c5f297acc3195" title="lbann::persist::open\l_checkpoint" alt="" coords="237,666,373,707"/><area shape="rect" id="node18" href="classlbann_1_1model.html#a8f41ac60de4f768a588a8c419ebd11bb" title="lbann::model::save\l_to_checkpoint_distributed" alt="" coords="217,455,394,497"/><area shape="rect" id="node31" href="classlbann_1_1persist.html#ab099939d0d91101fbfaf2b85e78be032" title="lbann::persist::close\l_checkpoint" alt="" coords="236,783,375,825"/><area shape="rect" id="node33" href="namespacelbann.html#a35a39e949cfd1d7f8c15f94e4d44ecff" title="lbann::write_latest" alt="" coords="241,732,369,759"/><area shape="rect" id="node35" href="classlbann_1_1lbann__comm.html#a6c201108eb6b5a1e23021db29cef655b" title="lbann::lbann_comm::\lget_model_rank" alt="" coords="234,1031,377,1073"/><area shape="rect" id="node36" href="classlbann_1_1model.html#a41098c2b2b23e49cdbe8746ef7cac5c8" title="lbann::model::save\l_to_checkpoint_shared" alt="" coords="227,373,383,414"/><area shape="rect" id="node38" href="classlbann_1_1persist.html#a847ca86b458718f4f9fab9e64c5cad4a" title="lbann::persist::get\l_bytes" alt="" coords="242,1097,369,1138"/><area shape="rect" id="node39" href="classlbann_1_1persist.html#a5e658eea4ecbda51531d8a242442307e" title="lbann::persist::reset\l_bytes" alt="" coords="237,1162,374,1203"/><area shape="rect" id="node4" href="classlbann_1_1lbann__comm.html#a303c02c5a127f3ed21f12c9a71cc90a6" title="lbann::lbann_comm::\lbarrier" alt="" coords="459,57,602,98"/><area shape="rect" id="node7" href="classlbann_1_1lbann__comm.html#ad61b35af881db9671f3d71ddbf1ced3f" title="lbann::lbann_comm::\lget_model_master" alt="" coords="683,181,826,222"/><area shape="rect" id="node11" href="classlbann_1_1lbann__comm.html#a08708022c215c01bbaa77974bfae3288" title="Broadcast a scalar value over an arbitrary communicator. " alt="" coords="459,934,602,975"/><area shape="rect" id="node14" href="classlbann_1_1lbann__comm.html#a135065d26bb1b838f711987ce22e7008" title="lbann::lbann_comm::\lget_model_comm" alt="" coords="459,999,602,1041"/><area shape="rect" id="node12" href="classlbann_1_1lbann__comm.html#acf786984b0965b9057bf080302499497" title="lbann::lbann_comm::\lbroadcast_custom" alt="" coords="683,901,826,942"/><area shape="rect" id="node13" href="classlbann_1_1lbann__comm.html#a408863c9ac5bc223e54ab0ae6ce7e986" title="lbann::lbann_comm::\lcount_bytes_broadcast" alt="" coords="676,966,833,1007"/><area shape="rect" id="node17" href="namespacelbann.html#af596e6d2be603e9cf808c98f5412490a" title="lbann::openwrite" alt="" coords="472,720,589,747"/><area shape="rect" id="node19" href="classlbann_1_1persist.html#a451db5a73e832a803fcabb85b741b201" title="lbann::persist::get\l_cb_type" alt="" coords="467,357,594,398"/><area shape="rect" id="node20" href="classlbann_1_1persist.html#a742334568de0aca958dbaf7bbabd3cba" title="lbann::persist::write\l_uint32" alt="" coords="463,487,599,529"/><area shape="rect" id="node22" href="classlbann_1_1persist.html#aced95e3bc711276b072af97b65ef9fc1" title="lbann::persist::write\l_uint64" alt="" coords="463,422,599,463"/><area shape="rect" id="node23" href="classlbann_1_1model.html#a67b48bc2c6c27ccf14e641245231420a" title="lbann::model::get_num\l_iterations_per_epoch" alt="" coords="453,291,608,333"/><area shape="rect" id="node28" href="namespacelbann.html#a0baddf643df06940d47edf2bae7c550e" title="lbann::save_rng_to\l_checkpoint_shared" alt="" coords="461,553,600,594"/><area shape="rect" id="node21" href="namespacelbann.html#aed95061796f19fa1648dcc99dc335abd" title="lbann::write_bytes" alt="" coords="691,463,819,489"/><area shape="rect" id="node24" href="classlbann_1_1generic__input__layer.html#a72068f19eb142fc7289e0f3e0eaead1c" title="lbann::generic_input\l_layer::get_num_iterations\l_per_epoch" alt="" coords="667,284,842,340"/><area shape="rect" id="node25" href="classlbann_1_1generic__input__layer.html#ab6bc391df3475d1467839338c4e435ec" title="lbann::generic_input\l_layer::get_data_reader" alt="" coords="903,327,1062,369"/><area shape="rect" id="node27" href="classlbann_1_1generic__data__reader.html#a56e24bca78c64c7d33cf981c63157e1b" title="Get the number of iterations in each epoch. " alt="" coords="891,248,1074,304"/><area shape="rect" id="node26" href="classlbann_1_1model.html#a66c5ac5cb51cdc7dea79a475147bcd5b" title="lbann::model::get_execution_mode" alt="" coords="1123,335,1347,361"/><area shape="rect" id="node29" href="classlbann_1_1lbann__comm.html#a615265cd20ffb4863089bb94e4c82fe7" title="lbann::lbann_comm::\lget_rank_in_world" alt="" coords="683,553,826,594"/><area shape="rect" id="node30" href="classlbann_1_1lbann__comm.html#a8431a8ec85cc2a146d4fd0f579f7b73f" title="lbann::lbann_comm::\lget_world_comm" alt="" coords="911,553,1054,594"/><area shape="rect" id="node32" href="namespacelbann.html#aceeccedbbafccfa071b21ee99be794a5" title="lbann::closewrite" alt="" coords="471,821,591,848"/><area shape="rect" id="node34" href="namespacelbann.html#add2807d7303bd96d2804f0b14e894c68" title="lbann::write_string" alt="" coords="467,771,595,797"/><area shape="rect" id="node37" href="classlbann_1_1model.html#ad8a893a8a7ca2f581b306b0e374a1e53" title="lbann::model::synchronize" alt="" coords="443,240,618,267"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_a91b67075524d549ef970c1ac6087c904_icgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_a91b67075524d549ef970c1ac6087c904_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_a91b67075524d549ef970c1ac6087c904_icgraph" id="classlbann_1_1lbann__callback__checkpoint_a91b67075524d549ef970c1ac6087c904_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__checkpoint.html#a406bfba673e503e94ae6eb57aff6a78e" title="lbann::lbann_callback\l_checkpoint::on_epoch_end" alt="" coords="227,5,411,46"/><area shape="rect" id="node3" href="classlbann_1_1lbann__callback__checkpoint.html#a5fb4288c03b1ce14681b72562e9471b2" title="lbann::lbann_callback\l_checkpoint::on_validation_end" alt="" coords="217,70,421,111"/><area shape="rect" id="node4" href="classlbann_1_1lbann__callback__checkpoint.html#a476527e2b7b44dd3623e01f63ddb5f78" title="lbann::lbann_callback\l_checkpoint::on_batch_end" alt="" coords="228,135,409,177"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a63dc49f38f063f9b85d9abdf8b2855aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html">lbann_callback_checkpoint</a>* lbann::lbann_callback_checkpoint::copy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="classlbann_1_1lbann__callback.html#a9f545d1269a8c7af335625d049691f26">lbann::lbann_callback</a>.</p>

<p>Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00061">61</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;{ <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ae4730c09f05af8e9080d5f1588d09b12">lbann_callback_checkpoint</a>(*<span class="keyword">this</span>); }</div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_ae4730c09f05af8e9080d5f1588d09b12"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#ae4730c09f05af8e9080d5f1588d09b12">lbann::lbann_callback_checkpoint::lbann_callback_checkpoint</a></div><div class="ttdeci">lbann_callback_checkpoint(std::string checkpoint_dir, int checkpoint_epochs, int checkpoint_steps, int checkpoint_secs, std::string per_rank_dir, int ckpt_dist_epochs, int ckpt_dist_steps)</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00049">callback_checkpoint.hpp:49</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_a63dc49f38f063f9b85d9abdf8b2855aa_cgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_a63dc49f38f063f9b85d9abdf8b2855aa_cgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_a63dc49f38f063f9b85d9abdf8b2855aa_cgraph" id="classlbann_1_1lbann__callback__checkpoint_a63dc49f38f063f9b85d9abdf8b2855aa_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__checkpoint.html#ae4730c09f05af8e9080d5f1588d09b12" title="lbann::lbann_callback\l_checkpoint::lbann_callback\l_checkpoint" alt="" coords="200,4,387,60"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa1afa81c9638bf76fb6ecfe91d07a88e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string lbann::lbann_callback_checkpoint::name </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return this callback's name. </p>

<p>Implements <a class="el" href="classlbann_1_1lbann__callback.html#a7522c7a14f1d6a1ea762cc2d7248eb3a">lbann::lbann_callback</a>.</p>

<p>Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00098">98</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;checkpoint&quot;</span>; }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2e5f396667ccc45f7203263b06c5e216"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::lbann_callback_checkpoint::need_checkpoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlbann_1_1model.html">model</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="callback__checkpoint_8cpp_source.html#l00064">64</a> of file <a class="el" href="callback__checkpoint_8cpp_source.html">callback_checkpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                                                        {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="comment">/* TODO: since we&#39;re using clocks, this requires a bcast for each call,</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment">   * we could use number of samples processed to make a local decision */</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="comment">// if none of our checkpoint conditions are set, assume we&#39;re not checkpointing</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ad6f4399effadedb26e33fc39a3c6915e">m_checkpoint_epochs</a> == 0 &amp;&amp;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ad6debea7d9bbebd3ee0323acec11516f">m_checkpoint_steps</a>  == 0 &amp;&amp;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;      <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a285658a96f8546952c9016ef4cc12161">m_checkpoint_secs</a>   == 0.0 &amp;&amp;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;      <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a1a6c86be8ea9a40a6502bfc8b5934954">m_ckpt_dist_epochs</a> == 0 &amp;&amp;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a42252ac8e107988fae1815c7d471b2a3">m_ckpt_dist_steps</a>== 0) {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="comment">// assume that we won&#39;t checkpoint</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a53ccd38ff53e9e00d94c04f05d5cbf31">m_checkpoint_shared</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a2780cbfb499c9e57e79082b1ba48fc2a">m_checkpoint_dist</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  lbann_comm *<a class="code" href="file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a> = m-&gt;get_comm();</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  <span class="keywordtype">int</span> cur_epoch = m-&gt;get_cur_epoch();</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="comment">// If we are at the end of a training epoch and the training epoch lands on defined interval, ckpt</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a53ccd38ff53e9e00d94c04f05d5cbf31">m_checkpoint_shared</a> &amp;&amp; <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ad6f4399effadedb26e33fc39a3c6915e">m_checkpoint_epochs</a> &gt; 0 &amp;&amp; (<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>.<a class="code" href="classlbann_1_1persist.html#a451db5a73e832a803fcabb85b741b201">get_cb_type</a>() == <a class="code" href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688a3388c74e6308ba994ce6b75fd4710251">callback_type::epoch</a> || <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>.<a class="code" href="classlbann_1_1persist.html#a451db5a73e832a803fcabb85b741b201">get_cb_type</a>() == <a class="code" href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688aa617908b172c473cb8e8cda059e55bf0">callback_type::validation</a>)){</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a53ccd38ff53e9e00d94c04f05d5cbf31">m_checkpoint_shared</a> = (cur_epoch &gt; 0) &amp;&amp; (cur_epoch % <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ad6f4399effadedb26e33fc39a3c6915e">m_checkpoint_epochs</a> == 0);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    }</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a2780cbfb499c9e57e79082b1ba48fc2a">m_checkpoint_dist</a> &amp;&amp; <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a1a6c86be8ea9a40a6502bfc8b5934954">m_ckpt_dist_epochs</a> &gt; 0 &amp;&amp; (<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>.<a class="code" href="classlbann_1_1persist.html#a451db5a73e832a803fcabb85b741b201">get_cb_type</a>() == <a class="code" href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688a3388c74e6308ba994ce6b75fd4710251">callback_type::epoch</a> || <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>.<a class="code" href="classlbann_1_1persist.html#a451db5a73e832a803fcabb85b741b201">get_cb_type</a>() == <a class="code" href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688aa617908b172c473cb8e8cda059e55bf0">callback_type::validation</a>)){</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a2780cbfb499c9e57e79082b1ba48fc2a">m_checkpoint_dist</a> = (cur_epoch &gt; 0) &amp;&amp; (cur_epoch % <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a1a6c86be8ea9a40a6502bfc8b5934954">m_ckpt_dist_epochs</a> == 0);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  }</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  </div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="comment">// If we are at the end of a training mb step and the training mb step lands on defined interval, trigger checkpoint</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a53ccd38ff53e9e00d94c04f05d5cbf31">m_checkpoint_shared</a> &amp;&amp; <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ad6debea7d9bbebd3ee0323acec11516f">m_checkpoint_steps</a> &gt; 0) {</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a53ccd38ff53e9e00d94c04f05d5cbf31">m_checkpoint_shared</a> = (m-&gt;get_cur_step() &gt; 0) &amp;&amp; (m-&gt;get_cur_step() % <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ad6debea7d9bbebd3ee0323acec11516f">m_checkpoint_steps</a> == 0);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  }</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordflow">if</span>(!<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a2780cbfb499c9e57e79082b1ba48fc2a">m_checkpoint_dist</a> &amp;&amp; <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a42252ac8e107988fae1815c7d471b2a3">m_ckpt_dist_steps</a> &gt; 0){</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;      <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a2780cbfb499c9e57e79082b1ba48fc2a">m_checkpoint_dist</a> = (m-&gt;get_cur_step() &gt; 0) &amp;&amp; (m-&gt;get_cur_step() % <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a42252ac8e107988fae1815c7d471b2a3">m_ckpt_dist_steps</a> == 0);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  }</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  </div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="comment">// check the clock if time-based checkpoint is enabled</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a53ccd38ff53e9e00d94c04f05d5cbf31">m_checkpoint_shared</a> &amp;&amp; <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a285658a96f8546952c9016ef4cc12161">m_checkpoint_secs</a> != 0.0) {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="comment">// have rank 0 determine whether we should checkpoint</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="comment">// to avoid issues with clock skew, we rely on rank 0 to make decision</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordflow">if</span> (comm-&gt;am_model_master()) {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      <span class="comment">// get the current time</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      <a class="code" href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a> current = MPI_Wtime();</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      <span class="comment">// compute time next checkpoint is due</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      <a class="code" href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a> next = <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a842304929c265ffa9d285e635fbbbbd7">m_checkpoint_last</a> + <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a285658a96f8546952c9016ef4cc12161">m_checkpoint_secs</a>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      <span class="comment">// determine whether it&#39;s time for a checkpoint</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a53ccd38ff53e9e00d94c04f05d5cbf31">m_checkpoint_shared</a> = (current &gt;= next);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    comm-&gt;model_broadcast(0, <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a53ccd38ff53e9e00d94c04f05d5cbf31">m_checkpoint_shared</a>);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  } </div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="comment">// If either checkpoint version is triggered, return true, otherwise false.   </span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keywordflow">return</span> (<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a53ccd38ff53e9e00d94c04f05d5cbf31">m_checkpoint_shared</a> || <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a2780cbfb499c9e57e79082b1ba48fc2a">m_checkpoint_dist</a>);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1persist_html_a451db5a73e832a803fcabb85b741b201"><div class="ttname"><a href="classlbann_1_1persist.html#a451db5a73e832a803fcabb85b741b201">lbann::persist::get_cb_type</a></div><div class="ttdeci">callback_type get_cb_type() const </div><div class="ttdef"><b>Definition:</b> <a href="persist_8hpp_source.html#l00067">persist.hpp:67</a></div></div>
<div class="ttc" id="base_8hpp_html_a3266f5ac18504bbadea983c109566867"><div class="ttname"><a href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a></div><div class="ttdeci">double EvalType</div><div class="ttdef"><b>Definition:</b> <a href="base_8hpp_source.html#l00063">base.hpp:63</a></div></div>
<div class="ttc" id="namespacelbann_html_afb40728fd81916c37e28ea57176ef688aa617908b172c473cb8e8cda059e55bf0"><div class="ttname"><a href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688aa617908b172c473cb8e8cda059e55bf0">lbann::callback_type::validation</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a2780cbfb499c9e57e79082b1ba48fc2a"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a2780cbfb499c9e57e79082b1ba48fc2a">lbann::lbann_callback_checkpoint::m_checkpoint_dist</a></div><div class="ttdeci">bool m_checkpoint_dist</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00109">callback_checkpoint.hpp:109</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a9ace1a99633e5401d1af7cf729ad5754"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">lbann::lbann_callback_checkpoint::p</a></div><div class="ttdeci">persist p</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00108">callback_checkpoint.hpp:108</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a842304929c265ffa9d285e635fbbbbd7"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a842304929c265ffa9d285e635fbbbbd7">lbann::lbann_callback_checkpoint::m_checkpoint_last</a></div><div class="ttdeci">EvalType m_checkpoint_last</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00107">callback_checkpoint.hpp:107</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a285658a96f8546952c9016ef4cc12161"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a285658a96f8546952c9016ef4cc12161">lbann::lbann_callback_checkpoint::m_checkpoint_secs</a></div><div class="ttdeci">EvalType m_checkpoint_secs</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00103">callback_checkpoint.hpp:103</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a53ccd38ff53e9e00d94c04f05d5cbf31"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a53ccd38ff53e9e00d94c04f05d5cbf31">lbann::lbann_callback_checkpoint::m_checkpoint_shared</a></div><div class="ttdeci">bool m_checkpoint_shared</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00110">callback_checkpoint.hpp:110</a></div></div>
<div class="ttc" id="namespacelbann_html_afb40728fd81916c37e28ea57176ef688a3388c74e6308ba994ce6b75fd4710251"><div class="ttname"><a href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688a3388c74e6308ba994ce6b75fd4710251">lbann::callback_type::epoch</a></div></div>
<div class="ttc" id="file__io_8cpp_html_ab048c6f9fcbcfaa57ce68b00263dbebe"><div class="ttname"><a href="file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a></div><div class="ttdeci">static MPI_Comm comm</div><div class="ttdef"><b>Definition:</b> <a href="file__io_8cpp_source.html#l00044">file_io.cpp:44</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a42252ac8e107988fae1815c7d471b2a3"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a42252ac8e107988fae1815c7d471b2a3">lbann::lbann_callback_checkpoint::m_ckpt_dist_steps</a></div><div class="ttdeci">int m_ckpt_dist_steps</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00106">callback_checkpoint.hpp:106</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_ad6debea7d9bbebd3ee0323acec11516f"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#ad6debea7d9bbebd3ee0323acec11516f">lbann::lbann_callback_checkpoint::m_checkpoint_steps</a></div><div class="ttdeci">int m_checkpoint_steps</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00102">callback_checkpoint.hpp:102</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a1a6c86be8ea9a40a6502bfc8b5934954"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a1a6c86be8ea9a40a6502bfc8b5934954">lbann::lbann_callback_checkpoint::m_ckpt_dist_epochs</a></div><div class="ttdeci">int m_ckpt_dist_epochs</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00105">callback_checkpoint.hpp:105</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_ad6f4399effadedb26e33fc39a3c6915e"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#ad6f4399effadedb26e33fc39a3c6915e">lbann::lbann_callback_checkpoint::m_checkpoint_epochs</a></div><div class="ttdeci">int m_checkpoint_epochs</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00101">callback_checkpoint.hpp:101</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_a2e5f396667ccc45f7203263b06c5e216_cgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_a2e5f396667ccc45f7203263b06c5e216_cgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_a2e5f396667ccc45f7203263b06c5e216_cgraph" id="classlbann_1_1lbann__callback__checkpoint_a2e5f396667ccc45f7203263b06c5e216_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1model.html#aa837a468e77991314053a93441d111ca" title="lbann::model::get_comm" alt="" coords="260,5,425,32"/><area shape="rect" id="node3" href="classlbann_1_1model.html#a675b1c6cb1a0eabca80d6a6de1fbbb08" title="lbann::model::get_cur\l_epoch" alt="" coords="269,57,416,98"/><area shape="rect" id="node4" href="classlbann_1_1persist.html#a451db5a73e832a803fcabb85b741b201" title="lbann::persist::get\l_cb_type" alt="" coords="279,122,406,163"/><area shape="rect" id="node5" href="classlbann_1_1model.html#a3753cfdb1b3dac2eec1db5b7b8f9c4d9" title="lbann::model::get_cur_step" alt="" coords="253,188,432,215"/><area shape="rect" id="node6" href="classlbann_1_1lbann__comm.html#a06a31f9df1860358ef0ef68d9e165cac" title="lbann::lbann_comm::\lam_model_master" alt="" coords="271,239,414,281"/><area shape="rect" id="node9" href="classlbann_1_1lbann__comm.html#a28fa7b33d4a288c47d06b6bf8d99e3af" title="Within&#45;model broadcast of a scalar. " alt="" coords="271,305,414,346"/><area shape="rect" id="node7" href="classlbann_1_1lbann__comm.html#a206bafe522a0962c450f4fc69d030656" title="lbann::lbann_comm::\lget_rank_in_model" alt="" coords="481,174,623,215"/><area shape="rect" id="node8" href="classlbann_1_1lbann__comm.html#ad61b35af881db9671f3d71ddbf1ced3f" title="lbann::lbann_comm::\lget_model_master" alt="" coords="481,239,623,281"/><area shape="rect" id="node10" href="classlbann_1_1lbann__comm.html#a08708022c215c01bbaa77974bfae3288" title="Broadcast a scalar value over an arbitrary communicator. " alt="" coords="481,305,623,346"/><area shape="rect" id="node13" href="classlbann_1_1lbann__comm.html#a135065d26bb1b838f711987ce22e7008" title="lbann::lbann_comm::\lget_model_comm" alt="" coords="481,370,623,411"/><area shape="rect" id="node11" href="classlbann_1_1lbann__comm.html#acf786984b0965b9057bf080302499497" title="lbann::lbann_comm::\lbroadcast_custom" alt="" coords="679,271,822,313"/><area shape="rect" id="node12" href="classlbann_1_1lbann__comm.html#a408863c9ac5bc223e54ab0ae6ce7e986" title="lbann::lbann_comm::\lcount_bytes_broadcast" alt="" coords="672,337,829,378"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_a2e5f396667ccc45f7203263b06c5e216_icgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_a2e5f396667ccc45f7203263b06c5e216_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_a2e5f396667ccc45f7203263b06c5e216_icgraph" id="classlbann_1_1lbann__callback__checkpoint_a2e5f396667ccc45f7203263b06c5e216_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__checkpoint.html#a406bfba673e503e94ae6eb57aff6a78e" title="lbann::lbann_callback\l_checkpoint::on_epoch_end" alt="" coords="264,5,448,46"/><area shape="rect" id="node3" href="classlbann_1_1lbann__callback__checkpoint.html#a5fb4288c03b1ce14681b72562e9471b2" title="lbann::lbann_callback\l_checkpoint::on_validation_end" alt="" coords="254,70,458,111"/><area shape="rect" id="node4" href="classlbann_1_1lbann__callback__checkpoint.html#a476527e2b7b44dd3623e01f63ddb5f78" title="lbann::lbann_callback\l_checkpoint::on_batch_end" alt="" coords="265,135,447,177"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a476527e2b7b44dd3623e01f63ddb5f78"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_callback_checkpoint::on_batch_end </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlbann_1_1model.html">model</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called immediately after the end of a (mini-)batch. </p>

<p>Reimplemented from <a class="el" href="classlbann_1_1lbann__callback.html#a895ca577e358601fcae5c04749f60535">lbann::lbann_callback</a>.</p>

<p>Definition at line <a class="el" href="callback__checkpoint_8cpp_source.html#l00055">55</a> of file <a class="el" href="callback__checkpoint_8cpp_source.html">callback_checkpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                                                     {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>.<a class="code" href="classlbann_1_1persist.html#aea2b200ee9d89a76b9461d7ce0b263da">set_cb_type</a>(<a class="code" href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688ad265aed699f7409ac0ec6fe07ee9cb11">callback_type::batch</a>);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a2e5f396667ccc45f7203263b06c5e216">need_checkpoint</a>(m)){</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a91b67075524d549ef970c1ac6087c904">checkpoint</a>(m);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  }</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>.<a class="code" href="classlbann_1_1persist.html#aea2b200ee9d89a76b9461d7ce0b263da">set_cb_type</a>(<a class="code" href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688afedb2d84cafe20862cb4399751a8a7e3">callback_type::invalid</a>);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a2e5f396667ccc45f7203263b06c5e216"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a2e5f396667ccc45f7203263b06c5e216">lbann::lbann_callback_checkpoint::need_checkpoint</a></div><div class="ttdeci">bool need_checkpoint(model *m)</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8cpp_source.html#l00064">callback_checkpoint.cpp:64</a></div></div>
<div class="ttc" id="namespacelbann_html_afb40728fd81916c37e28ea57176ef688ad265aed699f7409ac0ec6fe07ee9cb11"><div class="ttname"><a href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688ad265aed699f7409ac0ec6fe07ee9cb11">lbann::callback_type::batch</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a9ace1a99633e5401d1af7cf729ad5754"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">lbann::lbann_callback_checkpoint::p</a></div><div class="ttdeci">persist p</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00108">callback_checkpoint.hpp:108</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a91b67075524d549ef970c1ac6087c904"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a91b67075524d549ef970c1ac6087c904">lbann::lbann_callback_checkpoint::checkpoint</a></div><div class="ttdeci">bool checkpoint(model *m)</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8cpp_source.html#l00154">callback_checkpoint.cpp:154</a></div></div>
<div class="ttc" id="namespacelbann_html_afb40728fd81916c37e28ea57176ef688afedb2d84cafe20862cb4399751a8a7e3"><div class="ttname"><a href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688afedb2d84cafe20862cb4399751a8a7e3">lbann::callback_type::invalid</a></div></div>
<div class="ttc" id="classlbann_1_1persist_html_aea2b200ee9d89a76b9461d7ce0b263da"><div class="ttname"><a href="classlbann_1_1persist.html#aea2b200ee9d89a76b9461d7ce0b263da">lbann::persist::set_cb_type</a></div><div class="ttdeci">void set_cb_type(callback_type type)</div><div class="ttdef"><b>Definition:</b> <a href="persist_8hpp_source.html#l00071">persist.hpp:71</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_a476527e2b7b44dd3623e01f63ddb5f78_cgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_a476527e2b7b44dd3623e01f63ddb5f78_cgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_a476527e2b7b44dd3623e01f63ddb5f78_cgraph" id="classlbann_1_1lbann__callback__checkpoint_a476527e2b7b44dd3623e01f63ddb5f78_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1persist.html#aea2b200ee9d89a76b9461d7ce0b263da" title="lbann::persist::set\l_cb_type" alt="" coords="271,171,398,213"/><area shape="rect" id="node3" href="classlbann_1_1lbann__callback__checkpoint.html#a2e5f396667ccc45f7203263b06c5e216" title="lbann::lbann_callback\l_checkpoint::need_checkpoint" alt="" coords="235,237,434,278"/><area shape="rect" id="node16" href="classlbann_1_1lbann__callback__checkpoint.html#a91b67075524d549ef970c1ac6087c904" title="lbann::lbann_callback\l_checkpoint::checkpoint" alt="" coords="253,571,416,613"/><area shape="rect" id="node4" href="classlbann_1_1model.html#aa837a468e77991314053a93441d111ca" title="lbann::model::get_comm" alt="" coords="489,303,655,329"/><area shape="rect" id="node5" href="classlbann_1_1model.html#a675b1c6cb1a0eabca80d6a6de1fbbb08" title="lbann::model::get_cur\l_epoch" alt="" coords="499,237,645,278"/><area shape="rect" id="node6" href="classlbann_1_1persist.html#a451db5a73e832a803fcabb85b741b201" title="lbann::persist::get\l_cb_type" alt="" coords="734,415,861,457"/><area shape="rect" id="node7" href="classlbann_1_1model.html#a3753cfdb1b3dac2eec1db5b7b8f9c4d9" title="lbann::model::get_cur_step" alt="" coords="483,353,661,380"/><area shape="rect" id="node8" href="classlbann_1_1lbann__comm.html#a06a31f9df1860358ef0ef68d9e165cac" title="lbann::lbann_comm::\lam_model_master" alt="" coords="726,247,869,289"/><area shape="rect" id="node11" href="classlbann_1_1lbann__comm.html#a28fa7b33d4a288c47d06b6bf8d99e3af" title="Within&#45;model broadcast of a scalar. " alt="" coords="501,69,643,110"/><area shape="rect" id="node9" href="classlbann_1_1lbann__comm.html#a206bafe522a0962c450f4fc69d030656" title="lbann::lbann_comm::\lget_rank_in_model" alt="" coords="950,306,1093,347"/><area shape="rect" id="node10" href="classlbann_1_1lbann__comm.html#ad61b35af881db9671f3d71ddbf1ced3f" title="lbann::lbann_comm::\lget_model_master" alt="" coords="950,241,1093,282"/><area shape="rect" id="node12" href="classlbann_1_1lbann__comm.html#a08708022c215c01bbaa77974bfae3288" title="Broadcast a scalar value over an arbitrary communicator. " alt="" coords="726,37,869,78"/><area shape="rect" id="node15" href="classlbann_1_1lbann__comm.html#a135065d26bb1b838f711987ce22e7008" title="lbann::lbann_comm::\lget_model_comm" alt="" coords="726,102,869,143"/><area shape="rect" id="node13" href="classlbann_1_1lbann__comm.html#acf786984b0965b9057bf080302499497" title="lbann::lbann_comm::\lbroadcast_custom" alt="" coords="950,5,1093,46"/><area shape="rect" id="node14" href="classlbann_1_1lbann__comm.html#a408863c9ac5bc223e54ab0ae6ce7e986" title="lbann::lbann_comm::\lcount_bytes_broadcast" alt="" coords="943,70,1100,111"/><area shape="rect" id="node17" href="classlbann_1_1lbann__comm.html#a6086ced12c3eefeea6e2a78eff286983" title="lbann::lbann_comm::\lmodel_barrier" alt="" coords="501,1091,643,1133"/><area shape="rect" id="node19" href="namespacelbann.html#a8830dea8eef0ab5b93d68e2358ceeb1a" title="lbann::makedir" alt="" coords="968,743,1075,769"/><area shape="rect" id="node20" href="classlbann_1_1persist.html#a5bb3c2effb859cf3ca2c5f297acc3195" title="lbann::persist::open\l_checkpoint" alt="" coords="504,778,640,819"/><area shape="rect" id="node22" href="classlbann_1_1model.html#a8f41ac60de4f768a588a8c419ebd11bb" title="lbann::model::save\l_to_checkpoint_distributed" alt="" coords="483,637,661,678"/><area shape="rect" id="node34" href="classlbann_1_1persist.html#ab099939d0d91101fbfaf2b85e78be032" title="lbann::persist::close\l_checkpoint" alt="" coords="503,1026,641,1067"/><area shape="rect" id="node36" href="namespacelbann.html#a35a39e949cfd1d7f8c15f94e4d44ecff" title="lbann::write_latest" alt="" coords="508,844,636,871"/><area shape="rect" id="node38" href="classlbann_1_1lbann__comm.html#a6c201108eb6b5a1e23021db29cef655b" title="lbann::lbann_comm::\lget_model_rank" alt="" coords="501,895,643,937"/><area shape="rect" id="node39" href="classlbann_1_1model.html#a41098c2b2b23e49cdbe8746ef7cac5c8" title="lbann::model::save\l_to_checkpoint_shared" alt="" coords="494,506,650,547"/><area shape="rect" id="node41" href="classlbann_1_1persist.html#a847ca86b458718f4f9fab9e64c5cad4a" title="lbann::persist::get\l_bytes" alt="" coords="509,961,635,1002"/><area shape="rect" id="node42" href="classlbann_1_1persist.html#a5e658eea4ecbda51531d8a242442307e" title="lbann::persist::reset\l_bytes" alt="" coords="503,571,641,613"/><area shape="rect" id="node18" href="classlbann_1_1lbann__comm.html#a303c02c5a127f3ed21f12c9a71cc90a6" title="lbann::lbann_comm::\lbarrier" alt="" coords="726,1091,869,1133"/><area shape="rect" id="node21" href="namespacelbann.html#af596e6d2be603e9cf808c98f5412490a" title="lbann::openwrite" alt="" coords="739,844,856,871"/><area shape="rect" id="node23" href="classlbann_1_1persist.html#a742334568de0aca958dbaf7bbabd3cba" title="lbann::persist::write\l_uint32" alt="" coords="729,546,865,587"/><area shape="rect" id="node25" href="classlbann_1_1persist.html#aced95e3bc711276b072af97b65ef9fc1" title="lbann::persist::write\l_uint64" alt="" coords="729,481,865,522"/><area shape="rect" id="node26" href="classlbann_1_1model.html#a67b48bc2c6c27ccf14e641245231420a" title="lbann::model::get_num\l_iterations_per_epoch" alt="" coords="720,611,875,653"/><area shape="rect" id="node31" href="namespacelbann.html#a0baddf643df06940d47edf2bae7c550e" title="lbann::save_rng_to\l_checkpoint_shared" alt="" coords="728,677,867,718"/><area shape="rect" id="node24" href="namespacelbann.html#aed95061796f19fa1648dcc99dc335abd" title="lbann::write_bytes" alt="" coords="957,517,1085,544"/><area shape="rect" id="node27" href="classlbann_1_1generic__input__layer.html#a72068f19eb142fc7289e0f3e0eaead1c" title="lbann::generic_input\l_layer::get_num_iterations\l_per_epoch" alt="" coords="934,648,1109,704"/><area shape="rect" id="node28" href="classlbann_1_1generic__input__layer.html#ab6bc391df3475d1467839338c4e435ec" title="lbann::generic_input\l_layer::get_data_reader" alt="" coords="1170,651,1329,693"/><area shape="rect" id="node30" href="classlbann_1_1generic__data__reader.html#a56e24bca78c64c7d33cf981c63157e1b" title="Get the number of iterations in each epoch. " alt="" coords="1158,716,1341,772"/><area shape="rect" id="node29" href="classlbann_1_1model.html#a66c5ac5cb51cdc7dea79a475147bcd5b" title="lbann::model::get_execution_mode" alt="" coords="1389,659,1613,685"/><area shape="rect" id="node32" href="classlbann_1_1lbann__comm.html#a615265cd20ffb4863089bb94e4c82fe7" title="lbann::lbann_comm::\lget_rank_in_world" alt="" coords="950,583,1093,625"/><area shape="rect" id="node33" href="classlbann_1_1lbann__comm.html#a8431a8ec85cc2a146d4fd0f579f7b73f" title="lbann::lbann_comm::\lget_world_comm" alt="" coords="1178,583,1321,625"/><area shape="rect" id="node35" href="namespacelbann.html#aceeccedbbafccfa071b21ee99be794a5" title="lbann::closewrite" alt="" coords="737,989,857,1016"/><area shape="rect" id="node37" href="namespacelbann.html#add2807d7303bd96d2804f0b14e894c68" title="lbann::write_string" alt="" coords="733,895,861,921"/><area shape="rect" id="node40" href="classlbann_1_1model.html#ad8a893a8a7ca2f581b306b0e374a1e53" title="lbann::model::synchronize" alt="" coords="710,364,885,391"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a406bfba673e503e94ae6eb57aff6a78e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_callback_checkpoint::on_epoch_end </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlbann_1_1model.html">model</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called immediate after the end of each epoch. </p>

<p>Reimplemented from <a class="el" href="classlbann_1_1lbann__callback.html#a1fc71110e7f754bf73c9e0f344a448a5">lbann::lbann_callback</a>.</p>

<p>Definition at line <a class="el" href="callback__checkpoint_8cpp_source.html#l00039">39</a> of file <a class="el" href="callback__checkpoint_8cpp_source.html">callback_checkpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;                                                     {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>.<a class="code" href="classlbann_1_1persist.html#aea2b200ee9d89a76b9461d7ce0b263da">set_cb_type</a>(<a class="code" href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688a3388c74e6308ba994ce6b75fd4710251">callback_type::epoch</a>);</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a2e5f396667ccc45f7203263b06c5e216">need_checkpoint</a>(m)){</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a91b67075524d549ef970c1ac6087c904">checkpoint</a>(m);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  }</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>.<a class="code" href="classlbann_1_1persist.html#aea2b200ee9d89a76b9461d7ce0b263da">set_cb_type</a>(<a class="code" href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688afedb2d84cafe20862cb4399751a8a7e3">callback_type::invalid</a>);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a2e5f396667ccc45f7203263b06c5e216"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a2e5f396667ccc45f7203263b06c5e216">lbann::lbann_callback_checkpoint::need_checkpoint</a></div><div class="ttdeci">bool need_checkpoint(model *m)</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8cpp_source.html#l00064">callback_checkpoint.cpp:64</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a9ace1a99633e5401d1af7cf729ad5754"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">lbann::lbann_callback_checkpoint::p</a></div><div class="ttdeci">persist p</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00108">callback_checkpoint.hpp:108</a></div></div>
<div class="ttc" id="namespacelbann_html_afb40728fd81916c37e28ea57176ef688a3388c74e6308ba994ce6b75fd4710251"><div class="ttname"><a href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688a3388c74e6308ba994ce6b75fd4710251">lbann::callback_type::epoch</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a91b67075524d549ef970c1ac6087c904"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a91b67075524d549ef970c1ac6087c904">lbann::lbann_callback_checkpoint::checkpoint</a></div><div class="ttdeci">bool checkpoint(model *m)</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8cpp_source.html#l00154">callback_checkpoint.cpp:154</a></div></div>
<div class="ttc" id="namespacelbann_html_afb40728fd81916c37e28ea57176ef688afedb2d84cafe20862cb4399751a8a7e3"><div class="ttname"><a href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688afedb2d84cafe20862cb4399751a8a7e3">lbann::callback_type::invalid</a></div></div>
<div class="ttc" id="classlbann_1_1persist_html_aea2b200ee9d89a76b9461d7ce0b263da"><div class="ttname"><a href="classlbann_1_1persist.html#aea2b200ee9d89a76b9461d7ce0b263da">lbann::persist::set_cb_type</a></div><div class="ttdeci">void set_cb_type(callback_type type)</div><div class="ttdef"><b>Definition:</b> <a href="persist_8hpp_source.html#l00071">persist.hpp:71</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_a406bfba673e503e94ae6eb57aff6a78e_cgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_a406bfba673e503e94ae6eb57aff6a78e_cgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_a406bfba673e503e94ae6eb57aff6a78e_cgraph" id="classlbann_1_1lbann__callback__checkpoint_a406bfba673e503e94ae6eb57aff6a78e_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1persist.html#aea2b200ee9d89a76b9461d7ce0b263da" title="lbann::persist::set\l_cb_type" alt="" coords="274,171,401,213"/><area shape="rect" id="node3" href="classlbann_1_1lbann__callback__checkpoint.html#a2e5f396667ccc45f7203263b06c5e216" title="lbann::lbann_callback\l_checkpoint::need_checkpoint" alt="" coords="238,237,437,278"/><area shape="rect" id="node16" href="classlbann_1_1lbann__callback__checkpoint.html#a91b67075524d549ef970c1ac6087c904" title="lbann::lbann_callback\l_checkpoint::checkpoint" alt="" coords="256,571,419,613"/><area shape="rect" id="node4" href="classlbann_1_1model.html#aa837a468e77991314053a93441d111ca" title="lbann::model::get_comm" alt="" coords="492,303,657,329"/><area shape="rect" id="node5" href="classlbann_1_1model.html#a675b1c6cb1a0eabca80d6a6de1fbbb08" title="lbann::model::get_cur\l_epoch" alt="" coords="501,237,648,278"/><area shape="rect" id="node6" href="classlbann_1_1persist.html#a451db5a73e832a803fcabb85b741b201" title="lbann::persist::get\l_cb_type" alt="" coords="737,415,863,457"/><area shape="rect" id="node7" href="classlbann_1_1model.html#a3753cfdb1b3dac2eec1db5b7b8f9c4d9" title="lbann::model::get_cur_step" alt="" coords="485,353,664,380"/><area shape="rect" id="node8" href="classlbann_1_1lbann__comm.html#a06a31f9df1860358ef0ef68d9e165cac" title="lbann::lbann_comm::\lam_model_master" alt="" coords="729,247,871,289"/><area shape="rect" id="node11" href="classlbann_1_1lbann__comm.html#a28fa7b33d4a288c47d06b6bf8d99e3af" title="Within&#45;model broadcast of a scalar. " alt="" coords="503,69,646,110"/><area shape="rect" id="node9" href="classlbann_1_1lbann__comm.html#a206bafe522a0962c450f4fc69d030656" title="lbann::lbann_comm::\lget_rank_in_model" alt="" coords="953,306,1095,347"/><area shape="rect" id="node10" href="classlbann_1_1lbann__comm.html#ad61b35af881db9671f3d71ddbf1ced3f" title="lbann::lbann_comm::\lget_model_master" alt="" coords="953,241,1095,282"/><area shape="rect" id="node12" href="classlbann_1_1lbann__comm.html#a08708022c215c01bbaa77974bfae3288" title="Broadcast a scalar value over an arbitrary communicator. " alt="" coords="729,37,871,78"/><area shape="rect" id="node15" href="classlbann_1_1lbann__comm.html#a135065d26bb1b838f711987ce22e7008" title="lbann::lbann_comm::\lget_model_comm" alt="" coords="729,102,871,143"/><area shape="rect" id="node13" href="classlbann_1_1lbann__comm.html#acf786984b0965b9057bf080302499497" title="lbann::lbann_comm::\lbroadcast_custom" alt="" coords="953,5,1095,46"/><area shape="rect" id="node14" href="classlbann_1_1lbann__comm.html#a408863c9ac5bc223e54ab0ae6ce7e986" title="lbann::lbann_comm::\lcount_bytes_broadcast" alt="" coords="945,70,1103,111"/><area shape="rect" id="node17" href="classlbann_1_1lbann__comm.html#a6086ced12c3eefeea6e2a78eff286983" title="lbann::lbann_comm::\lmodel_barrier" alt="" coords="503,1091,646,1133"/><area shape="rect" id="node19" href="namespacelbann.html#a8830dea8eef0ab5b93d68e2358ceeb1a" title="lbann::makedir" alt="" coords="971,743,1077,769"/><area shape="rect" id="node20" href="classlbann_1_1persist.html#a5bb3c2effb859cf3ca2c5f297acc3195" title="lbann::persist::open\l_checkpoint" alt="" coords="507,778,643,819"/><area shape="rect" id="node22" href="classlbann_1_1model.html#a8f41ac60de4f768a588a8c419ebd11bb" title="lbann::model::save\l_to_checkpoint_distributed" alt="" coords="486,637,663,678"/><area shape="rect" id="node34" href="classlbann_1_1persist.html#ab099939d0d91101fbfaf2b85e78be032" title="lbann::persist::close\l_checkpoint" alt="" coords="505,1026,644,1067"/><area shape="rect" id="node36" href="namespacelbann.html#a35a39e949cfd1d7f8c15f94e4d44ecff" title="lbann::write_latest" alt="" coords="511,844,639,871"/><area shape="rect" id="node38" href="classlbann_1_1lbann__comm.html#a6c201108eb6b5a1e23021db29cef655b" title="lbann::lbann_comm::\lget_model_rank" alt="" coords="503,895,646,937"/><area shape="rect" id="node39" href="classlbann_1_1model.html#a41098c2b2b23e49cdbe8746ef7cac5c8" title="lbann::model::save\l_to_checkpoint_shared" alt="" coords="497,506,653,547"/><area shape="rect" id="node41" href="classlbann_1_1persist.html#a847ca86b458718f4f9fab9e64c5cad4a" title="lbann::persist::get\l_bytes" alt="" coords="511,961,638,1002"/><area shape="rect" id="node42" href="classlbann_1_1persist.html#a5e658eea4ecbda51531d8a242442307e" title="lbann::persist::reset\l_bytes" alt="" coords="506,571,643,613"/><area shape="rect" id="node18" href="classlbann_1_1lbann__comm.html#a303c02c5a127f3ed21f12c9a71cc90a6" title="lbann::lbann_comm::\lbarrier" alt="" coords="729,1091,871,1133"/><area shape="rect" id="node21" href="namespacelbann.html#af596e6d2be603e9cf808c98f5412490a" title="lbann::openwrite" alt="" coords="741,844,859,871"/><area shape="rect" id="node23" href="classlbann_1_1persist.html#a742334568de0aca958dbaf7bbabd3cba" title="lbann::persist::write\l_uint32" alt="" coords="732,546,868,587"/><area shape="rect" id="node25" href="classlbann_1_1persist.html#aced95e3bc711276b072af97b65ef9fc1" title="lbann::persist::write\l_uint64" alt="" coords="732,481,868,522"/><area shape="rect" id="node26" href="classlbann_1_1model.html#a67b48bc2c6c27ccf14e641245231420a" title="lbann::model::get_num\l_iterations_per_epoch" alt="" coords="723,611,877,653"/><area shape="rect" id="node31" href="namespacelbann.html#a0baddf643df06940d47edf2bae7c550e" title="lbann::save_rng_to\l_checkpoint_shared" alt="" coords="731,677,869,718"/><area shape="rect" id="node24" href="namespacelbann.html#aed95061796f19fa1648dcc99dc335abd" title="lbann::write_bytes" alt="" coords="960,517,1088,544"/><area shape="rect" id="node27" href="classlbann_1_1generic__input__layer.html#a72068f19eb142fc7289e0f3e0eaead1c" title="lbann::generic_input\l_layer::get_num_iterations\l_per_epoch" alt="" coords="937,648,1111,704"/><area shape="rect" id="node28" href="classlbann_1_1generic__input__layer.html#ab6bc391df3475d1467839338c4e435ec" title="lbann::generic_input\l_layer::get_data_reader" alt="" coords="1173,651,1331,693"/><area shape="rect" id="node30" href="classlbann_1_1generic__data__reader.html#a56e24bca78c64c7d33cf981c63157e1b" title="Get the number of iterations in each epoch. " alt="" coords="1161,716,1343,772"/><area shape="rect" id="node29" href="classlbann_1_1model.html#a66c5ac5cb51cdc7dea79a475147bcd5b" title="lbann::model::get_execution_mode" alt="" coords="1392,659,1616,685"/><area shape="rect" id="node32" href="classlbann_1_1lbann__comm.html#a615265cd20ffb4863089bb94e4c82fe7" title="lbann::lbann_comm::\lget_rank_in_world" alt="" coords="953,583,1095,625"/><area shape="rect" id="node33" href="classlbann_1_1lbann__comm.html#a8431a8ec85cc2a146d4fd0f579f7b73f" title="lbann::lbann_comm::\lget_world_comm" alt="" coords="1181,583,1323,625"/><area shape="rect" id="node35" href="namespacelbann.html#aceeccedbbafccfa071b21ee99be794a5" title="lbann::closewrite" alt="" coords="740,989,860,1016"/><area shape="rect" id="node37" href="namespacelbann.html#add2807d7303bd96d2804f0b14e894c68" title="lbann::write_string" alt="" coords="736,895,864,921"/><area shape="rect" id="node40" href="classlbann_1_1model.html#ad8a893a8a7ca2f581b306b0e374a1e53" title="lbann::model::synchronize" alt="" coords="713,364,887,391"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5fb4288c03b1ce14681b72562e9471b2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_callback_checkpoint::on_validation_end </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlbann_1_1model.html">model</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called immediately after the end of validation. </p>

<p>Reimplemented from <a class="el" href="classlbann_1_1lbann__callback.html#adc16e42e5064dc2dc8d84dfbfc1325eb">lbann::lbann_callback</a>.</p>

<p>Definition at line <a class="el" href="callback__checkpoint_8cpp_source.html#l00047">47</a> of file <a class="el" href="callback__checkpoint_8cpp_source.html">callback_checkpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                                                          {</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;  <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>.<a class="code" href="classlbann_1_1persist.html#aea2b200ee9d89a76b9461d7ce0b263da">set_cb_type</a>(<a class="code" href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688aa617908b172c473cb8e8cda059e55bf0">callback_type::validation</a>);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a2e5f396667ccc45f7203263b06c5e216">need_checkpoint</a>(m)){</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a91b67075524d549ef970c1ac6087c904">checkpoint</a>(m);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;  }</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>.<a class="code" href="classlbann_1_1persist.html#aea2b200ee9d89a76b9461d7ce0b263da">set_cb_type</a>(<a class="code" href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688afedb2d84cafe20862cb4399751a8a7e3">callback_type::invalid</a>);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a2e5f396667ccc45f7203263b06c5e216"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a2e5f396667ccc45f7203263b06c5e216">lbann::lbann_callback_checkpoint::need_checkpoint</a></div><div class="ttdeci">bool need_checkpoint(model *m)</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8cpp_source.html#l00064">callback_checkpoint.cpp:64</a></div></div>
<div class="ttc" id="namespacelbann_html_afb40728fd81916c37e28ea57176ef688aa617908b172c473cb8e8cda059e55bf0"><div class="ttname"><a href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688aa617908b172c473cb8e8cda059e55bf0">lbann::callback_type::validation</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a9ace1a99633e5401d1af7cf729ad5754"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">lbann::lbann_callback_checkpoint::p</a></div><div class="ttdeci">persist p</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00108">callback_checkpoint.hpp:108</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a91b67075524d549ef970c1ac6087c904"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a91b67075524d549ef970c1ac6087c904">lbann::lbann_callback_checkpoint::checkpoint</a></div><div class="ttdeci">bool checkpoint(model *m)</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8cpp_source.html#l00154">callback_checkpoint.cpp:154</a></div></div>
<div class="ttc" id="namespacelbann_html_afb40728fd81916c37e28ea57176ef688afedb2d84cafe20862cb4399751a8a7e3"><div class="ttname"><a href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688afedb2d84cafe20862cb4399751a8a7e3">lbann::callback_type::invalid</a></div></div>
<div class="ttc" id="classlbann_1_1persist_html_aea2b200ee9d89a76b9461d7ce0b263da"><div class="ttname"><a href="classlbann_1_1persist.html#aea2b200ee9d89a76b9461d7ce0b263da">lbann::persist::set_cb_type</a></div><div class="ttdeci">void set_cb_type(callback_type type)</div><div class="ttdef"><b>Definition:</b> <a href="persist_8hpp_source.html#l00071">persist.hpp:71</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_a5fb4288c03b1ce14681b72562e9471b2_cgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_a5fb4288c03b1ce14681b72562e9471b2_cgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_a5fb4288c03b1ce14681b72562e9471b2_cgraph" id="classlbann_1_1lbann__callback__checkpoint_a5fb4288c03b1ce14681b72562e9471b2_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1persist.html#aea2b200ee9d89a76b9461d7ce0b263da" title="lbann::persist::set\l_cb_type" alt="" coords="295,171,422,213"/><area shape="rect" id="node3" href="classlbann_1_1lbann__callback__checkpoint.html#a2e5f396667ccc45f7203263b06c5e216" title="lbann::lbann_callback\l_checkpoint::need_checkpoint" alt="" coords="259,237,458,278"/><area shape="rect" id="node16" href="classlbann_1_1lbann__callback__checkpoint.html#a91b67075524d549ef970c1ac6087c904" title="lbann::lbann_callback\l_checkpoint::checkpoint" alt="" coords="277,571,440,613"/><area shape="rect" id="node4" href="classlbann_1_1model.html#aa837a468e77991314053a93441d111ca" title="lbann::model::get_comm" alt="" coords="513,303,679,329"/><area shape="rect" id="node5" href="classlbann_1_1model.html#a675b1c6cb1a0eabca80d6a6de1fbbb08" title="lbann::model::get_cur\l_epoch" alt="" coords="523,237,669,278"/><area shape="rect" id="node6" href="classlbann_1_1persist.html#a451db5a73e832a803fcabb85b741b201" title="lbann::persist::get\l_cb_type" alt="" coords="758,415,885,457"/><area shape="rect" id="node7" href="classlbann_1_1model.html#a3753cfdb1b3dac2eec1db5b7b8f9c4d9" title="lbann::model::get_cur_step" alt="" coords="507,353,685,380"/><area shape="rect" id="node8" href="classlbann_1_1lbann__comm.html#a06a31f9df1860358ef0ef68d9e165cac" title="lbann::lbann_comm::\lam_model_master" alt="" coords="750,247,893,289"/><area shape="rect" id="node11" href="classlbann_1_1lbann__comm.html#a28fa7b33d4a288c47d06b6bf8d99e3af" title="Within&#45;model broadcast of a scalar. " alt="" coords="525,69,667,110"/><area shape="rect" id="node9" href="classlbann_1_1lbann__comm.html#a206bafe522a0962c450f4fc69d030656" title="lbann::lbann_comm::\lget_rank_in_model" alt="" coords="974,306,1117,347"/><area shape="rect" id="node10" href="classlbann_1_1lbann__comm.html#ad61b35af881db9671f3d71ddbf1ced3f" title="lbann::lbann_comm::\lget_model_master" alt="" coords="974,241,1117,282"/><area shape="rect" id="node12" href="classlbann_1_1lbann__comm.html#a08708022c215c01bbaa77974bfae3288" title="Broadcast a scalar value over an arbitrary communicator. " alt="" coords="750,37,893,78"/><area shape="rect" id="node15" href="classlbann_1_1lbann__comm.html#a135065d26bb1b838f711987ce22e7008" title="lbann::lbann_comm::\lget_model_comm" alt="" coords="750,102,893,143"/><area shape="rect" id="node13" href="classlbann_1_1lbann__comm.html#acf786984b0965b9057bf080302499497" title="lbann::lbann_comm::\lbroadcast_custom" alt="" coords="974,5,1117,46"/><area shape="rect" id="node14" href="classlbann_1_1lbann__comm.html#a408863c9ac5bc223e54ab0ae6ce7e986" title="lbann::lbann_comm::\lcount_bytes_broadcast" alt="" coords="967,70,1124,111"/><area shape="rect" id="node17" href="classlbann_1_1lbann__comm.html#a6086ced12c3eefeea6e2a78eff286983" title="lbann::lbann_comm::\lmodel_barrier" alt="" coords="525,1091,667,1133"/><area shape="rect" id="node19" href="namespacelbann.html#a8830dea8eef0ab5b93d68e2358ceeb1a" title="lbann::makedir" alt="" coords="992,743,1099,769"/><area shape="rect" id="node20" href="classlbann_1_1persist.html#a5bb3c2effb859cf3ca2c5f297acc3195" title="lbann::persist::open\l_checkpoint" alt="" coords="528,778,664,819"/><area shape="rect" id="node22" href="classlbann_1_1model.html#a8f41ac60de4f768a588a8c419ebd11bb" title="lbann::model::save\l_to_checkpoint_distributed" alt="" coords="507,637,685,678"/><area shape="rect" id="node34" href="classlbann_1_1persist.html#ab099939d0d91101fbfaf2b85e78be032" title="lbann::persist::close\l_checkpoint" alt="" coords="527,1026,665,1067"/><area shape="rect" id="node36" href="namespacelbann.html#a35a39e949cfd1d7f8c15f94e4d44ecff" title="lbann::write_latest" alt="" coords="532,844,660,871"/><area shape="rect" id="node38" href="classlbann_1_1lbann__comm.html#a6c201108eb6b5a1e23021db29cef655b" title="lbann::lbann_comm::\lget_model_rank" alt="" coords="525,895,667,937"/><area shape="rect" id="node39" href="classlbann_1_1model.html#a41098c2b2b23e49cdbe8746ef7cac5c8" title="lbann::model::save\l_to_checkpoint_shared" alt="" coords="518,506,674,547"/><area shape="rect" id="node41" href="classlbann_1_1persist.html#a847ca86b458718f4f9fab9e64c5cad4a" title="lbann::persist::get\l_bytes" alt="" coords="533,961,659,1002"/><area shape="rect" id="node42" href="classlbann_1_1persist.html#a5e658eea4ecbda51531d8a242442307e" title="lbann::persist::reset\l_bytes" alt="" coords="527,571,665,613"/><area shape="rect" id="node18" href="classlbann_1_1lbann__comm.html#a303c02c5a127f3ed21f12c9a71cc90a6" title="lbann::lbann_comm::\lbarrier" alt="" coords="750,1091,893,1133"/><area shape="rect" id="node21" href="namespacelbann.html#af596e6d2be603e9cf808c98f5412490a" title="lbann::openwrite" alt="" coords="763,844,880,871"/><area shape="rect" id="node23" href="classlbann_1_1persist.html#a742334568de0aca958dbaf7bbabd3cba" title="lbann::persist::write\l_uint32" alt="" coords="753,546,889,587"/><area shape="rect" id="node25" href="classlbann_1_1persist.html#aced95e3bc711276b072af97b65ef9fc1" title="lbann::persist::write\l_uint64" alt="" coords="753,481,889,522"/><area shape="rect" id="node26" href="classlbann_1_1model.html#a67b48bc2c6c27ccf14e641245231420a" title="lbann::model::get_num\l_iterations_per_epoch" alt="" coords="744,611,899,653"/><area shape="rect" id="node31" href="namespacelbann.html#a0baddf643df06940d47edf2bae7c550e" title="lbann::save_rng_to\l_checkpoint_shared" alt="" coords="752,677,891,718"/><area shape="rect" id="node24" href="namespacelbann.html#aed95061796f19fa1648dcc99dc335abd" title="lbann::write_bytes" alt="" coords="981,517,1109,544"/><area shape="rect" id="node27" href="classlbann_1_1generic__input__layer.html#a72068f19eb142fc7289e0f3e0eaead1c" title="lbann::generic_input\l_layer::get_num_iterations\l_per_epoch" alt="" coords="958,648,1133,704"/><area shape="rect" id="node28" href="classlbann_1_1generic__input__layer.html#ab6bc391df3475d1467839338c4e435ec" title="lbann::generic_input\l_layer::get_data_reader" alt="" coords="1194,651,1353,693"/><area shape="rect" id="node30" href="classlbann_1_1generic__data__reader.html#a56e24bca78c64c7d33cf981c63157e1b" title="Get the number of iterations in each epoch. " alt="" coords="1182,716,1365,772"/><area shape="rect" id="node29" href="classlbann_1_1model.html#a66c5ac5cb51cdc7dea79a475147bcd5b" title="lbann::model::get_execution_mode" alt="" coords="1413,659,1637,685"/><area shape="rect" id="node32" href="classlbann_1_1lbann__comm.html#a615265cd20ffb4863089bb94e4c82fe7" title="lbann::lbann_comm::\lget_rank_in_world" alt="" coords="974,583,1117,625"/><area shape="rect" id="node33" href="classlbann_1_1lbann__comm.html#a8431a8ec85cc2a146d4fd0f579f7b73f" title="lbann::lbann_comm::\lget_world_comm" alt="" coords="1202,583,1345,625"/><area shape="rect" id="node35" href="namespacelbann.html#aceeccedbbafccfa071b21ee99be794a5" title="lbann::closewrite" alt="" coords="761,989,881,1016"/><area shape="rect" id="node37" href="namespacelbann.html#add2807d7303bd96d2804f0b14e894c68" title="lbann::write_string" alt="" coords="757,895,885,921"/><area shape="rect" id="node40" href="classlbann_1_1model.html#ad8a893a8a7ca2f581b306b0e374a1e53" title="lbann::model::synchronize" alt="" coords="734,364,909,391"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aab65cb67b53e6af00142a9dc665f9ce8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html">lbann_callback_checkpoint</a>&amp; lbann::lbann_callback_checkpoint::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlbann_1_1lbann__callback__checkpoint.html">lbann_callback_checkpoint</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2d3aa52046aa7f71d70bb7e0ad478a6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::lbann_callback_checkpoint::restart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlbann_1_1model.html">model</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="callback__checkpoint_8cpp_source.html#l00241">241</a> of file <a class="el" href="callback__checkpoint_8cpp_source.html">callback_checkpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                                                {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="comment">// if the checkpoint directory is not defined, bail</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ac89386fda60744e6399f97003fea3711">m_checkpoint_dir</a>.length() == 0 &amp;&amp;  <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a455235e9a3dfe71f84180dbb47e2a9b7">m_per_rank_dir</a>.length() == 0) {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="comment">// get top level directory</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  <span class="keywordtype">char</span> dir[1024];</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688a3388c74e6308ba994ce6b75fd4710251">epoch</a> = -1;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;  <span class="keywordtype">int</span> step = -1;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="keywordtype">int</span> epoch_dist = -1;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <span class="keywordtype">int</span> step_dist = -1;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  lbann_comm *<a class="code" href="file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a> = m-&gt;get_comm();</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  <span class="keywordtype">int</span> shared = 1;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  <span class="comment">// Grab latest checkpoint information, checks for latest in dist and shared, restarts from most recent between the two. </span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="keywordflow">if</span> (comm-&gt;am_model_master()) {</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a455235e9a3dfe71f84180dbb47e2a9b7">m_per_rank_dir</a>.length()){</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      snprintf(dir, <span class="keyword">sizeof</span>(dir), <span class="stringliteral">&quot;%s/%s&quot;</span>, <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a455235e9a3dfe71f84180dbb47e2a9b7">m_per_rank_dir</a>.c_str(), <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ac89386fda60744e6399f97003fea3711">m_checkpoint_dir</a>.c_str());</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      <a class="code" href="namespacelbann.html#abebab8298e56db6a455a9ed08ab42bb4">read_latest</a>(dir, <span class="stringliteral">&quot;last.distributed.checkpoint&quot;</span>, &amp;epoch_dist, &amp;step_dist);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    } </div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ac89386fda60744e6399f97003fea3711">m_checkpoint_dir</a>.length()){</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      strcpy(dir, <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ac89386fda60744e6399f97003fea3711">m_checkpoint_dir</a>.c_str());</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      <a class="code" href="namespacelbann.html#abebab8298e56db6a455a9ed08ab42bb4">read_latest</a>(dir, <span class="stringliteral">&quot;last.shared.checkpoint&quot;</span>, &amp;epoch, &amp;step);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    </div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="keywordflow">if</span>(epoch &gt; epoch_dist){</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      strcpy(dir, <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ac89386fda60744e6399f97003fea3711">m_checkpoint_dir</a>.c_str());</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      shared = 1;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(epoch == epoch_dist &amp;&amp; step &gt; step_dist){</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      strcpy(dir, <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ac89386fda60744e6399f97003fea3711">m_checkpoint_dir</a>.c_str());</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;      shared = 1;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    }</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      snprintf(dir, <span class="keyword">sizeof</span>(dir), <span class="stringliteral">&quot;%s/%s&quot;</span>, <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a455235e9a3dfe71f84180dbb47e2a9b7">m_per_rank_dir</a>.c_str(), <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ac89386fda60744e6399f97003fea3711">m_checkpoint_dir</a>.c_str());</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      step = step_dist;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      epoch = epoch_dist;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      shared = 0;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    }</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;  }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="comment">// Update other ranks on where we are loading from. </span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="comment">// TODO: we would want to prepend dir with the model name and model rank:</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="comment">// m-&gt;get_name() + &#39;.&#39; + std::to_string(comm-&gt;get_model_rank()) + &#39;.&#39;</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="preprocessor">#if 1</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="preprocessor"></span>  <span class="keyword">struct </span>header_t {</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688a3388c74e6308ba994ce6b75fd4710251">epoch</a>;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <span class="keywordtype">int</span> step;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    <span class="keywordtype">int</span> shared;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    <span class="keywordtype">char</span> dirname[<span class="keyword">sizeof</span>(dir)];</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  };</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  header_t header;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  header.epoch = <a class="code" href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688a3388c74e6308ba994ce6b75fd4710251">epoch</a>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  header.step = step;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  header.shared = shared;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  memcpy(header.dirname, dir, <span class="keyword">sizeof</span>(dir));</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  comm-&gt;model_broadcast(0, header);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  epoch = header.epoch;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  step = header.step;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  shared = header.shared;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  memcpy(dir, header.dirname, <span class="keyword">sizeof</span>(dir));</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;<span class="preprocessor"></span>  comm-&gt;model_broadcast(0, epoch);</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  comm-&gt;model_broadcast(0, step);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  comm-&gt;model_broadcast(0, shared);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  comm-&gt;model_broadcast(0, &amp;(dir[0]), <span class="keyword">sizeof</span>(dir));</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="comment">// if we couldn&#39;t find the latest epoch, just return</span></div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keywordflow">if</span> (epoch &lt; 0) {</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  }</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="comment">// time how long this takes</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  El::Timer timer;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="comment">// let user know we&#39;re restarting from a checkpoint</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="keywordflow">if</span> (comm-&gt;am_model_master()) {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    timer.Start();</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    printf(<span class="stringliteral">&quot;Restart: epoch %d ...\n&quot;</span>, epoch);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    fflush(stdout);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;  </div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="keywordtype">char</span> epochdir[1024];</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="comment">// Create dir to restart from based off last recorded checkpoint (or overriden values in last.shared[distributed].checkpoint</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="keywordflow">if</span>(!shared){</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    snprintf(epochdir, <span class="keyword">sizeof</span>(epochdir), <span class="stringliteral">&quot;%s/rank.%d.epoch.%d.step.%d&quot;</span>, dir, comm-&gt;get_rank_in_model(), <a class="code" href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688a3388c74e6308ba994ce6b75fd4710251">epoch</a>, step);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>.<a class="code" href="classlbann_1_1persist.html#a8b1d8388246d8b959a7e85940439a0e6">open_restart</a>(epochdir);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    m-&gt;load_from_checkpoint_distributed(<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>.<a class="code" href="classlbann_1_1persist.html#afeef05548e1d17bd09d3805607edd621">close_restart</a>();</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  }</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    sprintf(epochdir, <span class="stringliteral">&quot;%s/shared.model.%d.epoch.%d.step.%d&quot;</span>, dir, comm-&gt;get_model_rank(), <a class="code" href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688a3388c74e6308ba994ce6b75fd4710251">epoch</a>, step);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">if</span> (comm-&gt;am_model_master()) {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>.<a class="code" href="classlbann_1_1persist.html#a8b1d8388246d8b959a7e85940439a0e6">open_restart</a>(epochdir);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="comment">// Ensure all ranks have access to checkpoint dir, needed for loading rank specific rng state</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    comm-&gt;model_broadcast(0, &amp;(<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>.<a class="code" href="classlbann_1_1persist.html#a17c2b08ec1815aba6d3eae6502397bb1">m_checkpoint_dir</a>[0]), <span class="keyword">sizeof</span>(<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>.<a class="code" href="classlbann_1_1persist.html#a17c2b08ec1815aba6d3eae6502397bb1">m_checkpoint_dir</a>));</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    m-&gt;load_from_checkpoint_shared(<a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>);</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordflow">if</span>(comm-&gt;am_model_master())</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>.<a class="code" href="classlbann_1_1persist.html#afeef05548e1d17bd09d3805607edd621">close_restart</a>();</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  }</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  </div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <span class="comment">// close our checkpoint</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  uint64_t bytes_count = <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>.<a class="code" href="classlbann_1_1persist.html#a847ca86b458718f4f9fab9e64c5cad4a">get_bytes</a>();</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="comment">// let user know we&#39;ve completed reading our restart</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  <span class="keywordflow">if</span> (comm-&gt;am_model_master()) {</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <a class="code" href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a> secs = timer.Stop();</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a> bw = 0.0;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">if</span> (secs &gt; 0.0) {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      bw = <a class="code" href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a>(bytes_count) / (secs * 1024.0 * 1024.0);</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    }</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    printf(<span class="stringliteral">&quot;Restart complete: Epoch=%d Step=%d (%f secs, %llu bytes, %f MB/sec)\n&quot;</span>,</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;           epoch, step, secs, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>) bytes_count, bw</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;          );</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    fflush(stdout);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;  <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>.<a class="code" href="classlbann_1_1persist.html#a5e658eea4ecbda51531d8a242442307e">reset_bytes</a>();</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;}</div>
<div class="ttc" id="base_8hpp_html_a3266f5ac18504bbadea983c109566867"><div class="ttname"><a href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a></div><div class="ttdeci">double EvalType</div><div class="ttdef"><b>Definition:</b> <a href="base_8hpp_source.html#l00063">base.hpp:63</a></div></div>
<div class="ttc" id="namespacelbann_html_abebab8298e56db6a455a9ed08ab42bb4"><div class="ttname"><a href="namespacelbann.html#abebab8298e56db6a455a9ed08ab42bb4">lbann::read_latest</a></div><div class="ttdeci">static bool read_latest(const char *dir, const char *name, int *epochLast, int *trainLast)</div><div class="ttdoc">Reads the &quot;latest&quot; file and returns the epoch number and sample offset for most recent checkpoint...</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8cpp_source.html#l00133">callback_checkpoint.cpp:133</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a9ace1a99633e5401d1af7cf729ad5754"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">lbann::lbann_callback_checkpoint::p</a></div><div class="ttdeci">persist p</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00108">callback_checkpoint.hpp:108</a></div></div>
<div class="ttc" id="classlbann_1_1persist_html_afeef05548e1d17bd09d3805607edd621"><div class="ttname"><a href="classlbann_1_1persist.html#afeef05548e1d17bd09d3805607edd621">lbann::persist::close_restart</a></div><div class="ttdeci">void close_restart()</div><div class="ttdef"><b>Definition:</b> <a href="persist_8cpp_source.html#l00307">persist.cpp:307</a></div></div>
<div class="ttc" id="classlbann_1_1persist_html_a8b1d8388246d8b959a7e85940439a0e6"><div class="ttname"><a href="classlbann_1_1persist.html#a8b1d8388246d8b959a7e85940439a0e6">lbann::persist::open_restart</a></div><div class="ttdeci">void open_restart(const char *dir)</div><div class="ttdef"><b>Definition:</b> <a href="persist_8cpp_source.html#l00277">persist.cpp:277</a></div></div>
<div class="ttc" id="namespacelbann_html_afb40728fd81916c37e28ea57176ef688a3388c74e6308ba994ce6b75fd4710251"><div class="ttname"><a href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688a3388c74e6308ba994ce6b75fd4710251">lbann::callback_type::epoch</a></div></div>
<div class="ttc" id="file__io_8cpp_html_ab048c6f9fcbcfaa57ce68b00263dbebe"><div class="ttname"><a href="file__io_8cpp.html#ab048c6f9fcbcfaa57ce68b00263dbebe">comm</a></div><div class="ttdeci">static MPI_Comm comm</div><div class="ttdef"><b>Definition:</b> <a href="file__io_8cpp_source.html#l00044">file_io.cpp:44</a></div></div>
<div class="ttc" id="classlbann_1_1persist_html_a5e658eea4ecbda51531d8a242442307e"><div class="ttname"><a href="classlbann_1_1persist.html#a5e658eea4ecbda51531d8a242442307e">lbann::persist::reset_bytes</a></div><div class="ttdeci">void reset_bytes()</div><div class="ttdef"><b>Definition:</b> <a href="persist_8hpp_source.html#l00085">persist.hpp:85</a></div></div>
<div class="ttc" id="classlbann_1_1persist_html_a847ca86b458718f4f9fab9e64c5cad4a"><div class="ttname"><a href="classlbann_1_1persist.html#a847ca86b458718f4f9fab9e64c5cad4a">lbann::persist::get_bytes</a></div><div class="ttdeci">uint64_t get_bytes() const </div><div class="ttdef"><b>Definition:</b> <a href="persist_8hpp_source.html#l00081">persist.hpp:81</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a455235e9a3dfe71f84180dbb47e2a9b7"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a455235e9a3dfe71f84180dbb47e2a9b7">lbann::lbann_callback_checkpoint::m_per_rank_dir</a></div><div class="ttdeci">std::string m_per_rank_dir</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00104">callback_checkpoint.hpp:104</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_ac89386fda60744e6399f97003fea3711"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#ac89386fda60744e6399f97003fea3711">lbann::lbann_callback_checkpoint::m_checkpoint_dir</a></div><div class="ttdeci">std::string m_checkpoint_dir</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00100">callback_checkpoint.hpp:100</a></div></div>
<div class="ttc" id="classlbann_1_1persist_html_a17c2b08ec1815aba6d3eae6502397bb1"><div class="ttname"><a href="classlbann_1_1persist.html#a17c2b08ec1815aba6d3eae6502397bb1">lbann::persist::m_checkpoint_dir</a></div><div class="ttdeci">char m_checkpoint_dir[1024]</div><div class="ttdef"><b>Definition:</b> <a href="persist_8hpp_source.html#l00061">persist.hpp:61</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_a2d3aa52046aa7f71d70bb7e0ad478a6c_cgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_a2d3aa52046aa7f71d70bb7e0ad478a6c_cgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_a2d3aa52046aa7f71d70bb7e0ad478a6c_cgraph" id="classlbann_1_1lbann__callback__checkpoint_a2d3aa52046aa7f71d70bb7e0ad478a6c_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1model.html#aa837a468e77991314053a93441d111ca" title="lbann::model::get_comm" alt="" coords="213,5,379,32"/><area shape="rect" id="node3" href="classlbann_1_1lbann__comm.html#a06a31f9df1860358ef0ef68d9e165cac" title="lbann::lbann_comm::\lam_model_master" alt="" coords="457,107,599,149"/><area shape="rect" id="node4" href="classlbann_1_1lbann__comm.html#a206bafe522a0962c450f4fc69d030656" title="lbann::lbann_comm::\lget_rank_in_model" alt="" coords="681,42,823,83"/><area shape="rect" id="node6" href="namespacelbann.html#abebab8298e56db6a455a9ed08ab42bb4" title="Reads the &quot;latest&quot; file and returns the epoch number and sample offset for most recent checkpoint..." alt="" coords="233,552,359,579"/><area shape="rect" id="node10" href="classlbann_1_1lbann__comm.html#a28fa7b33d4a288c47d06b6bf8d99e3af" title="Within&#45;model broadcast of a scalar. " alt="" coords="457,173,599,214"/><area shape="rect" id="node15" href="classlbann_1_1persist.html#a8b1d8388246d8b959a7e85940439a0e6" title="lbann::persist::open\l_restart" alt="" coords="228,486,364,527"/><area shape="rect" id="node16" href="classlbann_1_1model.html#a94cb3f78b4cc8e7e872dfc8990231c1b" title="lbann::model::load\l_from_checkpoint_distributed" alt="" coords="200,421,392,462"/><area shape="rect" id="node29" href="classlbann_1_1persist.html#afeef05548e1d17bd09d3805607edd621" title="lbann::persist::close\l_restart" alt="" coords="227,603,365,645"/><area shape="rect" id="node30" href="classlbann_1_1lbann__comm.html#a6c201108eb6b5a1e23021db29cef655b" title="lbann::lbann_comm::\lget_model_rank" alt="" coords="225,669,367,710"/><area shape="rect" id="node31" href="classlbann_1_1model.html#a2e02dda11636e015ea0c892ffa541881" title="lbann::model::load\l_from_checkpoint_shared" alt="" coords="211,355,381,397"/><area shape="rect" id="node33" href="classlbann_1_1persist.html#a847ca86b458718f4f9fab9e64c5cad4a" title="lbann::persist::get\l_bytes" alt="" coords="233,734,359,775"/><area shape="rect" id="node34" href="classlbann_1_1persist.html#a5e658eea4ecbda51531d8a242442307e" title="lbann::persist::reset\l_bytes" alt="" coords="227,799,365,841"/><area shape="rect" id="node5" href="classlbann_1_1lbann__comm.html#ad61b35af881db9671f3d71ddbf1ced3f" title="lbann::lbann_comm::\lget_model_master" alt="" coords="681,107,823,149"/><area shape="rect" id="node7" href="namespacelbann.html#a6084b9319eea1997f8446fa3e6879532" title="lbann::openread" alt="" coords="471,617,585,644"/><area shape="rect" id="node8" href="namespacelbann.html#a784843ebce0e596dba31c1d981a7f087" title="lbann::read_string" alt="" coords="465,668,591,695"/><area shape="rect" id="node9" href="namespacelbann.html#a38dd30b2ae8214f6595708264369ddb8" title="lbann::closeread" alt="" coords="469,719,587,745"/><area shape="rect" id="node11" href="classlbann_1_1lbann__comm.html#a08708022c215c01bbaa77974bfae3288" title="Broadcast a scalar value over an arbitrary communicator. " alt="" coords="681,238,823,279"/><area shape="rect" id="node14" href="classlbann_1_1lbann__comm.html#a135065d26bb1b838f711987ce22e7008" title="lbann::lbann_comm::\lget_model_comm" alt="" coords="681,173,823,214"/><area shape="rect" id="node12" href="classlbann_1_1lbann__comm.html#acf786984b0965b9057bf080302499497" title="lbann::lbann_comm::\lbroadcast_custom" alt="" coords="909,263,1051,305"/><area shape="rect" id="node13" href="classlbann_1_1lbann__comm.html#a408863c9ac5bc223e54ab0ae6ce7e986" title="lbann::lbann_comm::\lcount_bytes_broadcast" alt="" coords="901,198,1059,239"/><area shape="rect" id="node17" href="classlbann_1_1persist.html#ace1ebb58e2570693cdce0ebd2817113b" title="lbann::persist::read\l_uint32" alt="" coords="461,486,595,527"/><area shape="rect" id="node19" href="classlbann_1_1persist.html#aa6d996db3714a7ae055adac0d8e8ac63" title="lbann::persist::read\l_uint64" alt="" coords="461,551,595,593"/><area shape="rect" id="node20" href="classlbann_1_1model.html#a67b48bc2c6c27ccf14e641245231420a" title="lbann::model::get_num\l_iterations_per_epoch" alt="" coords="451,421,605,462"/><area shape="rect" id="node25" href="classlbann_1_1persist.html#aea2b200ee9d89a76b9461d7ce0b263da" title="lbann::persist::set\l_cb_type" alt="" coords="465,290,591,331"/><area shape="rect" id="node26" href="namespacelbann.html#ad5717dd23d8a1244e9116ccc9aa88b6c" title="lbann::load_rng_from\l_checkpoint_shared" alt="" coords="457,355,599,397"/><area shape="rect" id="node18" href="namespacelbann.html#a85385e2a9e058b6720300b4cbdd2b1d0" title="lbann::read_bytes" alt="" coords="689,527,815,553"/><area shape="rect" id="node21" href="classlbann_1_1generic__input__layer.html#a72068f19eb142fc7289e0f3e0eaead1c" title="lbann::generic_input\l_layer::get_num_iterations\l_per_epoch" alt="" coords="665,417,839,473"/><area shape="rect" id="node22" href="classlbann_1_1generic__input__layer.html#ab6bc391df3475d1467839338c4e435ec" title="lbann::generic_input\l_layer::get_data_reader" alt="" coords="901,497,1059,538"/><area shape="rect" id="node24" href="classlbann_1_1generic__data__reader.html#a56e24bca78c64c7d33cf981c63157e1b" title="Get the number of iterations in each epoch. " alt="" coords="889,417,1071,473"/><area shape="rect" id="node23" href="classlbann_1_1model.html#a66c5ac5cb51cdc7dea79a475147bcd5b" title="lbann::model::get_execution_mode" alt="" coords="1120,504,1344,531"/><area shape="rect" id="node27" href="classlbann_1_1lbann__comm.html#a615265cd20ffb4863089bb94e4c82fe7" title="lbann::lbann_comm::\lget_rank_in_world" alt="" coords="681,353,823,394"/><area shape="rect" id="node28" href="classlbann_1_1lbann__comm.html#a8431a8ec85cc2a146d4fd0f579f7b73f" title="lbann::lbann_comm::\lget_world_comm" alt="" coords="909,353,1051,394"/><area shape="rect" id="node32" href="classlbann_1_1model.html#ad8a893a8a7ca2f581b306b0e374a1e53" title="lbann::model::synchronize" alt="" coords="441,239,615,265"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_a2d3aa52046aa7f71d70bb7e0ad478a6c_icgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_a2d3aa52046aa7f71d70bb7e0ad478a6c_icgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_a2d3aa52046aa7f71d70bb7e0ad478a6c_icgraph" id="classlbann_1_1lbann__callback__checkpoint_a2d3aa52046aa7f71d70bb7e0ad478a6c_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1lbann__callback__checkpoint.html#a383654a7bb70672dfc9fef679f4b509f" title="lbann::lbann_callback\l_checkpoint::setup" alt="" coords="200,5,347,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adc9b6a01e100893c2dd0cfc7090c4079"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_callback_checkpoint::set_checkpoint_dir </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>dir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00067">67</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                                               {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ac89386fda60744e6399f97003fea3711">m_checkpoint_dir</a>= dir;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_ac89386fda60744e6399f97003fea3711"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#ac89386fda60744e6399f97003fea3711">lbann::lbann_callback_checkpoint::m_checkpoint_dir</a></div><div class="ttdeci">std::string m_checkpoint_dir</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00100">callback_checkpoint.hpp:100</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a718cf388085e51253a84c494511d1fb7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_callback_checkpoint::set_checkpoint_epochs </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>epochs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00071">71</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                                               {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ad6f4399effadedb26e33fc39a3c6915e">m_checkpoint_epochs</a>= epochs;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_ad6f4399effadedb26e33fc39a3c6915e"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#ad6f4399effadedb26e33fc39a3c6915e">lbann::lbann_callback_checkpoint::m_checkpoint_epochs</a></div><div class="ttdeci">int m_checkpoint_epochs</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00101">callback_checkpoint.hpp:101</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a91a0e5627986654d719930ba5eeebc9e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_callback_checkpoint::set_checkpoint_secs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a>&#160;</td>
          <td class="paramname"><em>secs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00079">79</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                                                {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a285658a96f8546952c9016ef4cc12161">m_checkpoint_secs</a>= secs;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a285658a96f8546952c9016ef4cc12161"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a285658a96f8546952c9016ef4cc12161">lbann::lbann_callback_checkpoint::m_checkpoint_secs</a></div><div class="ttdeci">EvalType m_checkpoint_secs</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00103">callback_checkpoint.hpp:103</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa385a1dda770ddf7a801134b96d3fcfd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_callback_checkpoint::set_checkpoint_steps </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>steps</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00075">75</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                                             {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#ad6debea7d9bbebd3ee0323acec11516f">m_checkpoint_steps</a>= steps;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_ad6debea7d9bbebd3ee0323acec11516f"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#ad6debea7d9bbebd3ee0323acec11516f">lbann::lbann_callback_checkpoint::m_checkpoint_steps</a></div><div class="ttdeci">int m_checkpoint_steps</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00102">callback_checkpoint.hpp:102</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a779d483df641171b9c67bd6b9a748b41"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_callback_checkpoint::set_ckpt_dist_epochs </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ckpt_dist_epochs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00087">87</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                                                        {                                                                  </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a1a6c86be8ea9a40a6502bfc8b5934954">m_ckpt_dist_epochs</a> = ckpt_dist_epochs;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  }  </div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a1a6c86be8ea9a40a6502bfc8b5934954"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a1a6c86be8ea9a40a6502bfc8b5934954">lbann::lbann_callback_checkpoint::m_ckpt_dist_epochs</a></div><div class="ttdeci">int m_ckpt_dist_epochs</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00105">callback_checkpoint.hpp:105</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0d2290a06d9455099bd74226769e8816"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_callback_checkpoint::set_ckpt_dist_steps </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ckpt_dist_steps</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00091">91</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                                                      {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a42252ac8e107988fae1815c7d471b2a3">m_ckpt_dist_steps</a> = ckpt_dist_steps;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a42252ac8e107988fae1815c7d471b2a3"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a42252ac8e107988fae1815c7d471b2a3">lbann::lbann_callback_checkpoint::m_ckpt_dist_steps</a></div><div class="ttdeci">int m_ckpt_dist_steps</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00106">callback_checkpoint.hpp:106</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae5d626bddbdc1233af8539259a9e7149"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_callback_checkpoint::set_per_rank_dir </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>dir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00083">83</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                                             {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a455235e9a3dfe71f84180dbb47e2a9b7">m_per_rank_dir</a> = dir;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a455235e9a3dfe71f84180dbb47e2a9b7"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a455235e9a3dfe71f84180dbb47e2a9b7">lbann::lbann_callback_checkpoint::m_per_rank_dir</a></div><div class="ttdeci">std::string m_per_rank_dir</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00104">callback_checkpoint.hpp:104</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a383654a7bb70672dfc9fef679f4b509f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lbann::lbann_callback_checkpoint::setup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classlbann_1_1model.html">model</a> *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called once to set up the callback (after all layers are set up). </p>

<p>Reimplemented from <a class="el" href="classlbann_1_1lbann__callback.html#aab5086e27d9bb0a7c7ee8ffc1bc58671">lbann::lbann_callback</a>.</p>

<p>Definition at line <a class="el" href="callback__checkpoint_8cpp_source.html#l00034">34</a> of file <a class="el" href="callback__checkpoint_8cpp_source.html">callback_checkpoint.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;                                              {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">p</a>.<a class="code" href="classlbann_1_1persist.html#aea2b200ee9d89a76b9461d7ce0b263da">set_cb_type</a>(<a class="code" href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688afedb2d84cafe20862cb4399751a8a7e3">callback_type::invalid</a>);</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <a class="code" href="classlbann_1_1lbann__callback__checkpoint.html#a2d3aa52046aa7f71d70bb7e0ad478a6c">restart</a>(m);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a2d3aa52046aa7f71d70bb7e0ad478a6c"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a2d3aa52046aa7f71d70bb7e0ad478a6c">lbann::lbann_callback_checkpoint::restart</a></div><div class="ttdeci">bool restart(model *m)</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8cpp_source.html#l00241">callback_checkpoint.cpp:241</a></div></div>
<div class="ttc" id="classlbann_1_1lbann__callback__checkpoint_html_a9ace1a99633e5401d1af7cf729ad5754"><div class="ttname"><a href="classlbann_1_1lbann__callback__checkpoint.html#a9ace1a99633e5401d1af7cf729ad5754">lbann::lbann_callback_checkpoint::p</a></div><div class="ttdeci">persist p</div><div class="ttdef"><b>Definition:</b> <a href="callback__checkpoint_8hpp_source.html#l00108">callback_checkpoint.hpp:108</a></div></div>
<div class="ttc" id="namespacelbann_html_afb40728fd81916c37e28ea57176ef688afedb2d84cafe20862cb4399751a8a7e3"><div class="ttname"><a href="namespacelbann.html#afb40728fd81916c37e28ea57176ef688afedb2d84cafe20862cb4399751a8a7e3">lbann::callback_type::invalid</a></div></div>
<div class="ttc" id="classlbann_1_1persist_html_aea2b200ee9d89a76b9461d7ce0b263da"><div class="ttname"><a href="classlbann_1_1persist.html#aea2b200ee9d89a76b9461d7ce0b263da">lbann::persist::set_cb_type</a></div><div class="ttdeci">void set_cb_type(callback_type type)</div><div class="ttdef"><b>Definition:</b> <a href="persist_8hpp_source.html#l00071">persist.hpp:71</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1lbann__callback__checkpoint_a383654a7bb70672dfc9fef679f4b509f_cgraph.png" border="0" usemap="#classlbann_1_1lbann__callback__checkpoint_a383654a7bb70672dfc9fef679f4b509f_cgraph" alt=""/></div>
<map name="classlbann_1_1lbann__callback__checkpoint_a383654a7bb70672dfc9fef679f4b509f_cgraph" id="classlbann_1_1lbann__callback__checkpoint_a383654a7bb70672dfc9fef679f4b509f_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1persist.html#aea2b200ee9d89a76b9461d7ce0b263da" title="lbann::persist::set\l_cb_type" alt="" coords="659,18,786,59"/><area shape="rect" id="node3" href="classlbann_1_1lbann__callback__checkpoint.html#a2d3aa52046aa7f71d70bb7e0ad478a6c" title="lbann::lbann_callback\l_checkpoint::restart" alt="" coords="200,386,347,427"/><area shape="rect" id="node4" href="classlbann_1_1model.html#aa837a468e77991314053a93441d111ca" title="lbann::model::get_comm" alt="" coords="408,495,573,521"/><area shape="rect" id="node5" href="classlbann_1_1lbann__comm.html#a06a31f9df1860358ef0ef68d9e165cac" title="lbann::lbann_comm::\lam_model_master" alt="" coords="651,447,794,489"/><area shape="rect" id="node6" href="classlbann_1_1lbann__comm.html#a206bafe522a0962c450f4fc69d030656" title="lbann::lbann_comm::\lget_rank_in_model" alt="" coords="875,389,1018,430"/><area shape="rect" id="node8" href="namespacelbann.html#abebab8298e56db6a455a9ed08ab42bb4" title="Reads the &quot;latest&quot; file and returns the epoch number and sample offset for most recent checkpoint..." alt="" coords="428,663,553,689"/><area shape="rect" id="node12" href="classlbann_1_1lbann__comm.html#a28fa7b33d4a288c47d06b6bf8d99e3af" title="Within&#45;model broadcast of a scalar. " alt="" coords="651,533,794,574"/><area shape="rect" id="node17" href="classlbann_1_1persist.html#a8b1d8388246d8b959a7e85940439a0e6" title="lbann::persist::open\l_restart" alt="" coords="423,597,559,638"/><area shape="rect" id="node18" href="classlbann_1_1model.html#a94cb3f78b4cc8e7e872dfc8990231c1b" title="lbann::model::load\l_from_checkpoint_distributed" alt="" coords="395,262,587,303"/><area shape="rect" id="node30" href="classlbann_1_1persist.html#afeef05548e1d17bd09d3805607edd621" title="lbann::persist::close\l_restart" alt="" coords="421,714,560,755"/><area shape="rect" id="node31" href="classlbann_1_1lbann__comm.html#a6c201108eb6b5a1e23021db29cef655b" title="lbann::lbann_comm::\lget_model_rank" alt="" coords="419,66,562,107"/><area shape="rect" id="node32" href="classlbann_1_1model.html#a2e02dda11636e015ea0c892ffa541881" title="lbann::model::load\l_from_checkpoint_shared" alt="" coords="405,327,576,369"/><area shape="rect" id="node34" href="classlbann_1_1persist.html#a847ca86b458718f4f9fab9e64c5cad4a" title="lbann::persist::get\l_bytes" alt="" coords="427,131,554,173"/><area shape="rect" id="node35" href="classlbann_1_1persist.html#a5e658eea4ecbda51531d8a242442307e" title="lbann::persist::reset\l_bytes" alt="" coords="422,197,559,238"/><area shape="rect" id="node7" href="classlbann_1_1lbann__comm.html#ad61b35af881db9671f3d71ddbf1ced3f" title="lbann::lbann_comm::\lget_model_master" alt="" coords="875,454,1018,495"/><area shape="rect" id="node9" href="namespacelbann.html#a6084b9319eea1997f8446fa3e6879532" title="lbann::openread" alt="" coords="665,608,780,635"/><area shape="rect" id="node10" href="namespacelbann.html#a784843ebce0e596dba31c1d981a7f087" title="lbann::read_string" alt="" coords="660,663,785,689"/><area shape="rect" id="node11" href="namespacelbann.html#a38dd30b2ae8214f6595708264369ddb8" title="lbann::closeread" alt="" coords="664,717,781,744"/><area shape="rect" id="node13" href="classlbann_1_1lbann__comm.html#a08708022c215c01bbaa77974bfae3288" title="Broadcast a scalar value over an arbitrary communicator. " alt="" coords="875,530,1018,571"/><area shape="rect" id="node16" href="classlbann_1_1lbann__comm.html#a135065d26bb1b838f711987ce22e7008" title="lbann::lbann_comm::\lget_model_comm" alt="" coords="875,595,1018,637"/><area shape="rect" id="node14" href="classlbann_1_1lbann__comm.html#acf786984b0965b9057bf080302499497" title="lbann::lbann_comm::\lbroadcast_custom" alt="" coords="1103,497,1246,538"/><area shape="rect" id="node15" href="classlbann_1_1lbann__comm.html#a408863c9ac5bc223e54ab0ae6ce7e986" title="lbann::lbann_comm::\lcount_bytes_broadcast" alt="" coords="1096,562,1253,603"/><area shape="rect" id="node19" href="classlbann_1_1persist.html#ace1ebb58e2570693cdce0ebd2817113b" title="lbann::persist::read\l_uint32" alt="" coords="656,214,789,255"/><area shape="rect" id="node21" href="classlbann_1_1persist.html#aa6d996db3714a7ae055adac0d8e8ac63" title="lbann::persist::read\l_uint64" alt="" coords="656,279,789,321"/><area shape="rect" id="node22" href="classlbann_1_1model.html#a67b48bc2c6c27ccf14e641245231420a" title="lbann::model::get_num\l_iterations_per_epoch" alt="" coords="645,83,800,125"/><area shape="rect" id="node27" href="namespacelbann.html#ad5717dd23d8a1244e9116ccc9aa88b6c" title="lbann::load_rng_from\l_checkpoint_shared" alt="" coords="651,149,794,190"/><area shape="rect" id="node20" href="namespacelbann.html#a85385e2a9e058b6720300b4cbdd2b1d0" title="lbann::read_bytes" alt="" coords="884,255,1009,281"/><area shape="rect" id="node23" href="classlbann_1_1generic__input__layer.html#a72068f19eb142fc7289e0f3e0eaead1c" title="lbann::generic_input\l_layer::get_num_iterations\l_per_epoch" alt="" coords="859,73,1034,129"/><area shape="rect" id="node24" href="classlbann_1_1generic__input__layer.html#ab6bc391df3475d1467839338c4e435ec" title="lbann::generic_input\l_layer::get_data_reader" alt="" coords="1095,85,1254,126"/><area shape="rect" id="node26" href="classlbann_1_1generic__data__reader.html#a56e24bca78c64c7d33cf981c63157e1b" title="Get the number of iterations in each epoch. " alt="" coords="1083,5,1266,61"/><area shape="rect" id="node25" href="classlbann_1_1model.html#a66c5ac5cb51cdc7dea79a475147bcd5b" title="lbann::model::get_execution_mode" alt="" coords="1315,92,1539,119"/><area shape="rect" id="node28" href="classlbann_1_1lbann__comm.html#a615265cd20ffb4863089bb94e4c82fe7" title="lbann::lbann_comm::\lget_rank_in_world" alt="" coords="875,153,1018,194"/><area shape="rect" id="node29" href="classlbann_1_1lbann__comm.html#a8431a8ec85cc2a146d4fd0f579f7b73f" title="lbann::lbann_comm::\lget_world_comm" alt="" coords="1103,153,1246,194"/><area shape="rect" id="node33" href="classlbann_1_1model.html#ad8a893a8a7ca2f581b306b0e374a1e53" title="lbann::model::synchronize" alt="" coords="635,345,810,372"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ac89386fda60744e6399f97003fea3711"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string lbann::lbann_callback_checkpoint::m_checkpoint_dir</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00100">100</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2780cbfb499c9e57e79082b1ba48fc2a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::lbann_callback_checkpoint::m_checkpoint_dist</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00109">109</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad6f4399effadedb26e33fc39a3c6915e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::lbann_callback_checkpoint::m_checkpoint_epochs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00101">101</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a842304929c265ffa9d285e635fbbbbd7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a> lbann::lbann_callback_checkpoint::m_checkpoint_last</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00107">107</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a285658a96f8546952c9016ef4cc12161"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_8hpp.html#a3266f5ac18504bbadea983c109566867">EvalType</a> lbann::lbann_callback_checkpoint::m_checkpoint_secs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00103">103</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a53ccd38ff53e9e00d94c04f05d5cbf31"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::lbann_callback_checkpoint::m_checkpoint_shared</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00110">110</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad6debea7d9bbebd3ee0323acec11516f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::lbann_callback_checkpoint::m_checkpoint_steps</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00102">102</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1a6c86be8ea9a40a6502bfc8b5934954"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::lbann_callback_checkpoint::m_ckpt_dist_epochs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00105">105</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a42252ac8e107988fae1815c7d471b2a3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lbann::lbann_callback_checkpoint::m_ckpt_dist_steps</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00106">106</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a455235e9a3dfe71f84180dbb47e2a9b7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string lbann::lbann_callback_checkpoint::m_per_rank_dir</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00104">104</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9ace1a99633e5401d1af7cf729ad5754"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlbann_1_1persist.html">persist</a> lbann::lbann_callback_checkpoint::p</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="callback__checkpoint_8hpp_source.html#l00108">108</a> of file <a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/travis/build/LLNL/lbann/include/lbann/callbacks/<a class="el" href="callback__checkpoint_8hpp_source.html">callback_checkpoint.hpp</a></li>
<li>/home/travis/build/LLNL/lbann/src/callbacks/<a class="el" href="callback__checkpoint_8cpp_source.html">callback_checkpoint.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacelbann.html">lbann</a></li><li class="navelem"><a class="el" href="classlbann_1_1lbann__callback__checkpoint.html">lbann_callback_checkpoint</a></li>
    <li class="footer">Generated on Fri May 11 2018 08:30:00 for LBANN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
