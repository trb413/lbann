<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>LBANN: lbann::offline_patches_npz Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">LBANN
   &#160;<span id="projectnumber">v0.93-606-gca499c9-ci377629231</span>
   </div>
   <div id="projectbrief">LivermoreBigArtificialNeuralNetworkToolkit</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classlbann_1_1offline__patches__npz.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classlbann_1_1offline__patches__npz-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">lbann::offline_patches_npz Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="offline__patches__npz_8hpp_source.html">offline_patches_npz.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ae0ed6bf62b2be1814964206522ed4e05"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1offline__patches__npz.html#ae0ed6bf62b2be1814964206522ed4e05">label_t</a> = uint8_t</td></tr>
<tr class="separator:ae0ed6bf62b2be1814964206522ed4e05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61405205f907a697515786d0a9e7858a"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1offline__patches__npz.html#a61405205f907a697515786d0a9e7858a">sample_t</a> = std::pair&lt; std::vector&lt; std::string &gt;, <a class="el" href="classlbann_1_1offline__patches__npz.html#ae0ed6bf62b2be1814964206522ed4e05">label_t</a> &gt;</td></tr>
<tr class="separator:a61405205f907a697515786d0a9e7858a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6beaea209f8e0e7a70587bbe31d793a0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1offline__patches__npz.html#a6beaea209f8e0e7a70587bbe31d793a0">offline_patches_npz</a> ()</td></tr>
<tr class="separator:a6beaea209f8e0e7a70587bbe31d793a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29f1d64e32c857018d5ef21dd99fe7c4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1offline__patches__npz.html#a29f1d64e32c857018d5ef21dd99fe7c4">load</a> (const std::string filename, size_t first_n=0u)</td></tr>
<tr class="separator:a29f1d64e32c857018d5ef21dd99fe7c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f485894e28235bfa039ccbce4210cdf"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1offline__patches__npz.html#a9f485894e28235bfa039ccbce4210cdf">get_description</a> () const </td></tr>
<tr class="memdesc:a9f485894e28235bfa039ccbce4210cdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Show the description.  <a href="#a9f485894e28235bfa039ccbce4210cdf">More...</a><br/></td></tr>
<tr class="separator:a9f485894e28235bfa039ccbce4210cdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a488eedf6984032c6102d3a2139f7de08"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1offline__patches__npz.html#a488eedf6984032c6102d3a2139f7de08">get_num_samples</a> () const </td></tr>
<tr class="memdesc:a488eedf6984032c6102d3a2139f7de08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of samples.  <a href="#a488eedf6984032c6102d3a2139f7de08">More...</a><br/></td></tr>
<tr class="separator:a488eedf6984032c6102d3a2139f7de08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad202c540e10a5547f2c6e751789e904c"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1offline__patches__npz.html#ad202c540e10a5547f2c6e751789e904c">get_num_patches</a> () const </td></tr>
<tr class="memdesc:ad202c540e10a5547f2c6e751789e904c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of patches per sample (the number of image data sources)  <a href="#ad202c540e10a5547f2c6e751789e904c">More...</a><br/></td></tr>
<tr class="separator:ad202c540e10a5547f2c6e751789e904c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e63765b79f39e421c78a5b62e0a9188"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1offline__patches__npz.html#a61405205f907a697515786d0a9e7858a">sample_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1offline__patches__npz.html#a4e63765b79f39e421c78a5b62e0a9188">get_sample</a> (const size_t idx) const </td></tr>
<tr class="memdesc:a4e63765b79f39e421c78a5b62e0a9188"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reconsturct and return the meta-data (patch file names and the label) of idx-th sample.  <a href="#a4e63765b79f39e421c78a5b62e0a9188">More...</a><br/></td></tr>
<tr class="separator:a4e63765b79f39e421c78a5b62e0a9188"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a5ca833ae24c6256c2d27af00edb528"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlbann_1_1offline__patches__npz.html#ae0ed6bf62b2be1814964206522ed4e05">label_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1offline__patches__npz.html#a8a5ca833ae24c6256c2d27af00edb528">get_label</a> (const size_t idx) const </td></tr>
<tr class="memdesc:a8a5ca833ae24c6256c2d27af00edb528"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the label of idx-th sample.  <a href="#a8a5ca833ae24c6256c2d27af00edb528">More...</a><br/></td></tr>
<tr class="separator:a8a5ca833ae24c6256c2d27af00edb528"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a7f1a8e1153a3f8cce480febdeea26e87"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1offline__patches__npz.html#a7f1a8e1153a3f8cce480febdeea26e87">check_data</a> () const </td></tr>
<tr class="memdesc:a7f1a8e1153a3f8cce480febdeea26e87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the dimensions of loaded data.  <a href="#a7f1a8e1153a3f8cce480febdeea26e87">More...</a><br/></td></tr>
<tr class="separator:a7f1a8e1153a3f8cce480febdeea26e87"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:ab434320c2084790a2c99257d6c39fc85"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1offline__patches__npz.html#ab434320c2084790a2c99257d6c39fc85">m_checked_ok</a></td></tr>
<tr class="memdesc:ab434320c2084790a2c99257d6c39fc85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether loaded data have passed the format check.  <a href="#ab434320c2084790a2c99257d6c39fc85">More...</a><br/></td></tr>
<tr class="separator:ab434320c2084790a2c99257d6c39fc85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c13583d344641295301f82a32ebee41"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1offline__patches__npz.html#a5c13583d344641295301f82a32ebee41">m_num_patches</a></td></tr>
<tr class="memdesc:a5c13583d344641295301f82a32ebee41"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of image patches per sample (i.e. the num of patch files to read)  <a href="#a5c13583d344641295301f82a32ebee41">More...</a><br/></td></tr>
<tr class="separator:a5c13583d344641295301f82a32ebee41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d61c89e80f8e67b4850fb72792ce862"><td class="memItemLeft" align="right" valign="top">cnpy::NpyArray&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1offline__patches__npz.html#a5d61c89e80f8e67b4850fb72792ce862">m_item_root_list</a></td></tr>
<tr class="separator:a5d61c89e80f8e67b4850fb72792ce862"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aec35e7b2f9956b8e7e8ce5cbb3ff22"><td class="memItemLeft" align="right" valign="top">cnpy::NpyArray&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1offline__patches__npz.html#a5aec35e7b2f9956b8e7e8ce5cbb3ff22">m_item_variant_list</a></td></tr>
<tr class="separator:a5aec35e7b2f9956b8e7e8ce5cbb3ff22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f90dc1b898f8ad9d7ea16c188738419"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classlbann_1_1offline__patches__npz.html#ae0ed6bf62b2be1814964206522ed4e05">label_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1offline__patches__npz.html#a5f90dc1b898f8ad9d7ea16c188738419">m_item_class_list</a></td></tr>
<tr class="memdesc:a5f90dc1b898f8ad9d7ea16c188738419"><td class="mdescLeft">&#160;</td><td class="mdescRight">list of labels (dimension: num_samples)  <a href="#a5f90dc1b898f8ad9d7ea16c188738419">More...</a><br/></td></tr>
<tr class="separator:a5f90dc1b898f8ad9d7ea16c188738419"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a515ef05ef0679f3b6f1197d1ab47bfb3"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1offline__patches__npz.html#a515ef05ef0679f3b6f1197d1ab47bfb3">m_file_root_list</a></td></tr>
<tr class="memdesc:a515ef05ef0679f3b6f1197d1ab47bfb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The list of common substrings that a file path starts with (dimension is, for example 1000 in case of imagenet data)  <a href="#a515ef05ef0679f3b6f1197d1ab47bfb3">More...</a><br/></td></tr>
<tr class="separator:a515ef05ef0679f3b6f1197d1ab47bfb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a164d2bd134dc8c3946dc28d6ec5da0ec"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1offline__patches__npz.html#a164d2bd134dc8c3946dc28d6ec5da0ec">m_file_variant_list</a></td></tr>
<tr class="separator:a164d2bd134dc8c3946dc28d6ec5da0ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8c28a104b2c09f22831cb647f77d127"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1offline__patches__npz.html#ab8c28a104b2c09f22831cb647f77d127">m_file_root_list_name</a></td></tr>
<tr class="memdesc:ab8c28a104b2c09f22831cb647f77d127"><td class="mdescLeft">&#160;</td><td class="mdescRight">The text file name of file_root_list.  <a href="#ab8c28a104b2c09f22831cb647f77d127">More...</a><br/></td></tr>
<tr class="separator:ab8c28a104b2c09f22831cb647f77d127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf3a819a993f1dafd040e992fcbd205a"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1offline__patches__npz.html#acf3a819a993f1dafd040e992fcbd205a">m_file_variant_list_name</a></td></tr>
<tr class="memdesc:acf3a819a993f1dafd040e992fcbd205a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The text file name of file_variant_list.  <a href="#acf3a819a993f1dafd040e992fcbd205a">More...</a><br/></td></tr>
<tr class="separator:acf3a819a993f1dafd040e992fcbd205a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaab0b9040ce248875b6cdb430e054b3a"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1offline__patches__npz.html#aaab0b9040ce248875b6cdb430e054b3a">m_variant_divider</a></td></tr>
<tr class="memdesc:aaab0b9040ce248875b6cdb430e054b3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">A substring after which the file name of variants begins to differ (e.g., ".JPEG.")  <a href="#aaab0b9040ce248875b6cdb430e054b3a">More...</a><br/></td></tr>
<tr class="separator:aaab0b9040ce248875b6cdb430e054b3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a887aa89aa2d8d8c9e23af33f2bb949d9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlbann_1_1offline__patches__npz.html#a887aa89aa2d8d8c9e23af33f2bb949d9">m_fetch_text_dict_at_once</a></td></tr>
<tr class="memdesc:a887aa89aa2d8d8c9e23af33f2bb949d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">control how the text dictionary files are loaded: whether to load all at once and parse or to stream in  <a href="#a887aa89aa2d8d8c9e23af33f2bb949d9">More...</a><br/></td></tr>
<tr class="separator:a887aa89aa2d8d8c9e23af33f2bb949d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Loads the list of patche files, generated off-line, and the label per sample. As the list is quite large itself in the ASCII text format, it is packed and loaded as a compressed NumPy file (*.npz). Each image file name is compressed further by representing it as a sequence of indices to common substring dictionaries. There are two types of substring dictionaries, root and variant. There is an array of index sequences and an array of dictionary substrings per type, and a label array. For example, a file path train/n000111/abc.tag1.tag2.jpg would be represented as 'r[i][j][k]', 'v[i][j][x]', 'v[i][j][y]', 'v[i][j][z]' for the j-th patch of the i-th sample where 'r[i][j][k]' is "train/n000111", and 'v[i][j][x]', 'v[i][j][y]' and 'v[i][j][z]' is "abc", "tag1", and "tag2" respectively. 'r' is the root dictionary and 'v' is the variant dictionary. The list is kept in a compressed form, and uncompressed on-demand during execution. Each index sequence array is kept as a CNPY data structure, and each dictionary array is loaded into a vector of strings. The label array is loaded into a vector of uint8_t. </p>

<p>Definition at line <a class="el" href="offline__patches__npz_8hpp_source.html#l00054">54</a> of file <a class="el" href="offline__patches__npz_8hpp_source.html">offline_patches_npz.hpp</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="ae0ed6bf62b2be1814964206522ed4e05"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classlbann_1_1offline__patches__npz.html#ae0ed6bf62b2be1814964206522ed4e05">lbann::offline_patches_npz::label_t</a> =  uint8_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="offline__patches__npz_8hpp_source.html#l00056">56</a> of file <a class="el" href="offline__patches__npz_8hpp_source.html">offline_patches_npz.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a61405205f907a697515786d0a9e7858a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classlbann_1_1offline__patches__npz.html#a61405205f907a697515786d0a9e7858a">lbann::offline_patches_npz::sample_t</a> =  std::pair&lt;std::vector&lt;std::string&gt;, <a class="el" href="classlbann_1_1offline__patches__npz.html#ae0ed6bf62b2be1814964206522ed4e05">label_t</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="offline__patches__npz_8hpp_source.html#l00057">57</a> of file <a class="el" href="offline__patches__npz_8hpp_source.html">offline_patches_npz.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a6beaea209f8e0e7a70587bbe31d793a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lbann::offline_patches_npz::offline_patches_npz </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="offline__patches__npz_8cpp_source.html#l00035">35</a> of file <a class="el" href="offline__patches__npz_8cpp_source.html">offline_patches_npz.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  : <a class="code" href="classlbann_1_1offline__patches__npz.html#ab434320c2084790a2c99257d6c39fc85">m_checked_ok</a>(<span class="keyword">false</span>), <a class="code" href="classlbann_1_1offline__patches__npz.html#a5c13583d344641295301f82a32ebee41">m_num_patches</a>(3u), <a class="code" href="classlbann_1_1offline__patches__npz.html#aaab0b9040ce248875b6cdb430e054b3a">m_variant_divider</a>(<span class="stringliteral">&quot;.JPEG.&quot;</span>)</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;{}</div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_ab434320c2084790a2c99257d6c39fc85"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#ab434320c2084790a2c99257d6c39fc85">lbann::offline_patches_npz::m_checked_ok</a></div><div class="ttdeci">bool m_checked_ok</div><div class="ttdoc">Whether loaded data have passed the format check. </div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00090">offline_patches_npz.hpp:90</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a5c13583d344641295301f82a32ebee41"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a5c13583d344641295301f82a32ebee41">lbann::offline_patches_npz::m_num_patches</a></div><div class="ttdeci">size_t m_num_patches</div><div class="ttdoc">The number of image patches per sample (i.e. the num of patch files to read) </div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00092">offline_patches_npz.hpp:92</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_aaab0b9040ce248875b6cdb430e054b3a"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#aaab0b9040ce248875b6cdb430e054b3a">lbann::offline_patches_npz::m_variant_divider</a></div><div class="ttdeci">std::string m_variant_divider</div><div class="ttdoc">A substring after which the file name of variants begins to differ (e.g., &quot;.JPEG.&quot;) ...</div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00114">offline_patches_npz.hpp:114</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a7f1a8e1153a3f8cce480febdeea26e87"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::offline_patches_npz::check_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check the dimensions of loaded data. </p>

<p>Definition at line <a class="el" href="offline__patches__npz_8cpp_source.html#l00142">142</a> of file <a class="el" href="offline__patches__npz_8cpp_source.html">offline_patches_npz.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                                           {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <span class="keywordtype">bool</span> ok = (<a class="code" href="classlbann_1_1offline__patches__npz.html#a5d61c89e80f8e67b4850fb72792ce862">m_item_root_list</a>.shape.size() == 2u) &amp;&amp;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            (<a class="code" href="classlbann_1_1offline__patches__npz.html#a5aec35e7b2f9956b8e7e8ce5cbb3ff22">m_item_variant_list</a>.shape.size() == 3u) &amp;&amp;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            (<a class="code" href="classlbann_1_1offline__patches__npz.html#a515ef05ef0679f3b6f1197d1ab47bfb3">m_file_root_list</a>.size() &gt; 0u) &amp;&amp;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            (<a class="code" href="classlbann_1_1offline__patches__npz.html#a164d2bd134dc8c3946dc28d6ec5da0ec">m_file_variant_list</a>.size() &gt; 0u) &amp;&amp;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            (<a class="code" href="classlbann_1_1offline__patches__npz.html#a5d61c89e80f8e67b4850fb72792ce862">m_item_root_list</a>.shape[0] == <a class="code" href="classlbann_1_1offline__patches__npz.html#a5f90dc1b898f8ad9d7ea16c188738419">m_item_class_list</a>.size()) &amp;&amp;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            (<a class="code" href="classlbann_1_1offline__patches__npz.html#a5aec35e7b2f9956b8e7e8ce5cbb3ff22">m_item_variant_list</a>.shape[0] == <a class="code" href="classlbann_1_1offline__patches__npz.html#a5f90dc1b898f8ad9d7ea16c188738419">m_item_class_list</a>.size()) &amp;&amp;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            (<a class="code" href="classlbann_1_1offline__patches__npz.html#a5d61c89e80f8e67b4850fb72792ce862">m_item_root_list</a>.shape[1] == <a class="code" href="classlbann_1_1offline__patches__npz.html#a5c13583d344641295301f82a32ebee41">m_num_patches</a>) &amp;&amp;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            (<a class="code" href="classlbann_1_1offline__patches__npz.html#a5aec35e7b2f9956b8e7e8ce5cbb3ff22">m_item_variant_list</a>.shape[1] == <a class="code" href="classlbann_1_1offline__patches__npz.html#a5c13583d344641295301f82a32ebee41">m_num_patches</a>) &amp;&amp;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            (<a class="code" href="classlbann_1_1offline__patches__npz.html#a5aec35e7b2f9956b8e7e8ce5cbb3ff22">m_item_variant_list</a>.shape[2] &gt; 0u) &amp;&amp;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            (<a class="code" href="classlbann_1_1offline__patches__npz.html#a5d61c89e80f8e67b4850fb72792ce862">m_item_root_list</a>.word_size == <span class="keyword">sizeof</span>(size_t)) &amp;&amp;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            (<a class="code" href="classlbann_1_1offline__patches__npz.html#a5aec35e7b2f9956b8e7e8ce5cbb3ff22">m_item_variant_list</a>.word_size == <span class="keyword">sizeof</span>(size_t));</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordflow">return</span> ok;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a5d61c89e80f8e67b4850fb72792ce862"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a5d61c89e80f8e67b4850fb72792ce862">lbann::offline_patches_npz::m_item_root_list</a></div><div class="ttdeci">cnpy::NpyArray m_item_root_list</div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00097">offline_patches_npz.hpp:97</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a5aec35e7b2f9956b8e7e8ce5cbb3ff22"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a5aec35e7b2f9956b8e7e8ce5cbb3ff22">lbann::offline_patches_npz::m_item_variant_list</a></div><div class="ttdeci">cnpy::NpyArray m_item_variant_list</div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00102">offline_patches_npz.hpp:102</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a515ef05ef0679f3b6f1197d1ab47bfb3"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a515ef05ef0679f3b6f1197d1ab47bfb3">lbann::offline_patches_npz::m_file_root_list</a></div><div class="ttdeci">std::vector&lt; std::string &gt; m_file_root_list</div><div class="ttdoc">The list of common substrings that a file path starts with (dimension is, for example 1000 in case of...</div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00106">offline_patches_npz.hpp:106</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a5f90dc1b898f8ad9d7ea16c188738419"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a5f90dc1b898f8ad9d7ea16c188738419">lbann::offline_patches_npz::m_item_class_list</a></div><div class="ttdeci">std::vector&lt; label_t &gt; m_item_class_list</div><div class="ttdoc">list of labels (dimension: num_samples) </div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00104">offline_patches_npz.hpp:104</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a164d2bd134dc8c3946dc28d6ec5da0ec"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a164d2bd134dc8c3946dc28d6ec5da0ec">lbann::offline_patches_npz::m_file_variant_list</a></div><div class="ttdeci">std::vector&lt; std::string &gt; m_file_variant_list</div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00108">offline_patches_npz.hpp:108</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a5c13583d344641295301f82a32ebee41"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a5c13583d344641295301f82a32ebee41">lbann::offline_patches_npz::m_num_patches</a></div><div class="ttdeci">size_t m_num_patches</div><div class="ttdoc">The number of image patches per sample (i.e. the num of patch files to read) </div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00092">offline_patches_npz.hpp:92</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1offline__patches__npz_a7f1a8e1153a3f8cce480febdeea26e87_icgraph.png" border="0" usemap="#classlbann_1_1offline__patches__npz_a7f1a8e1153a3f8cce480febdeea26e87_icgraph" alt=""/></div>
<map name="classlbann_1_1offline__patches__npz_a7f1a8e1153a3f8cce480febdeea26e87_icgraph" id="classlbann_1_1offline__patches__npz_a7f1a8e1153a3f8cce480febdeea26e87_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1offline__patches__npz.html#a29f1d64e32c857018d5ef21dd99fe7c4" title="lbann::offline_patches\l_npz::load" alt="" coords="203,5,352,46"/><area shape="rect" id="node3" href="classlbann_1_1data__reader__triplet.html#a2601234d6d501df6170c6fb60dfb873e" title="lbann::data_reader\l_triplet::load" alt="" coords="401,5,530,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9f485894e28235bfa039ccbce4210cdf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string lbann::offline_patches_npz::get_description </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Show the description. </p>

<p>Definition at line <a class="el" href="offline__patches__npz_8cpp_source.html#l00158">158</a> of file <a class="el" href="offline__patches__npz_8cpp_source.html">offline_patches_npz.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                                                     {</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keyword">using</span> std::string;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keyword">using</span> std::to_string;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  <span class="keywordtype">string</span> ret = string(<span class="stringliteral">&quot;offline_patches_npz:\n&quot;</span>)</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    + <span class="stringliteral">&quot; - item_root_list: &quot;</span>    + <a class="code" href="namespacelbann_1_1cnpy__utils.html#a120e5719167d6d20b2a98c4282fd7a50">cnpy_utils::show_shape</a>(<a class="code" href="classlbann_1_1offline__patches__npz.html#a5d61c89e80f8e67b4850fb72792ce862">m_item_root_list</a>) + <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    + <span class="stringliteral">&quot; - item_variant_list: &quot;</span> + <a class="code" href="namespacelbann_1_1cnpy__utils.html#a120e5719167d6d20b2a98c4282fd7a50">cnpy_utils::show_shape</a>(<a class="code" href="classlbann_1_1offline__patches__npz.html#a5aec35e7b2f9956b8e7e8ce5cbb3ff22">m_item_variant_list</a>) + <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    + <span class="stringliteral">&quot; - item_class_list: &quot;</span>   + to_string(<a class="code" href="classlbann_1_1offline__patches__npz.html#a5f90dc1b898f8ad9d7ea16c188738419">m_item_class_list</a>.size()) + <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    + <span class="stringliteral">&quot; - file_root_list: &quot;</span>    + to_string(<a class="code" href="classlbann_1_1offline__patches__npz.html#a515ef05ef0679f3b6f1197d1ab47bfb3">m_file_root_list</a>.size()) + <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    + <span class="stringliteral">&quot; - file_variant_list: &quot;</span> + to_string(<a class="code" href="classlbann_1_1offline__patches__npz.html#a164d2bd134dc8c3946dc28d6ec5da0ec">m_file_variant_list</a>.size()) + <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    + <span class="stringliteral">&quot; - variant_divider: &quot;</span>   + <a class="code" href="classlbann_1_1offline__patches__npz.html#aaab0b9040ce248875b6cdb430e054b3a">m_variant_divider</a> + <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    + <span class="stringliteral">&quot; - num of samples: &quot;</span>    + to_string(<a class="code" href="classlbann_1_1offline__patches__npz.html#a488eedf6984032c6102d3a2139f7de08">get_num_samples</a>()) + <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    + <span class="stringliteral">&quot; - num of patches: &quot;</span>    + to_string(<a class="code" href="classlbann_1_1offline__patches__npz.html#a5c13583d344641295301f82a32ebee41">m_num_patches</a>) + <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;  <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a5d61c89e80f8e67b4850fb72792ce862"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a5d61c89e80f8e67b4850fb72792ce862">lbann::offline_patches_npz::m_item_root_list</a></div><div class="ttdeci">cnpy::NpyArray m_item_root_list</div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00097">offline_patches_npz.hpp:97</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a5aec35e7b2f9956b8e7e8ce5cbb3ff22"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a5aec35e7b2f9956b8e7e8ce5cbb3ff22">lbann::offline_patches_npz::m_item_variant_list</a></div><div class="ttdeci">cnpy::NpyArray m_item_variant_list</div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00102">offline_patches_npz.hpp:102</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a515ef05ef0679f3b6f1197d1ab47bfb3"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a515ef05ef0679f3b6f1197d1ab47bfb3">lbann::offline_patches_npz::m_file_root_list</a></div><div class="ttdeci">std::vector&lt; std::string &gt; m_file_root_list</div><div class="ttdoc">The list of common substrings that a file path starts with (dimension is, for example 1000 in case of...</div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00106">offline_patches_npz.hpp:106</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a5f90dc1b898f8ad9d7ea16c188738419"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a5f90dc1b898f8ad9d7ea16c188738419">lbann::offline_patches_npz::m_item_class_list</a></div><div class="ttdeci">std::vector&lt; label_t &gt; m_item_class_list</div><div class="ttdoc">list of labels (dimension: num_samples) </div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00104">offline_patches_npz.hpp:104</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a164d2bd134dc8c3946dc28d6ec5da0ec"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a164d2bd134dc8c3946dc28d6ec5da0ec">lbann::offline_patches_npz::m_file_variant_list</a></div><div class="ttdeci">std::vector&lt; std::string &gt; m_file_variant_list</div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00108">offline_patches_npz.hpp:108</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a5c13583d344641295301f82a32ebee41"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a5c13583d344641295301f82a32ebee41">lbann::offline_patches_npz::m_num_patches</a></div><div class="ttdeci">size_t m_num_patches</div><div class="ttdoc">The number of image patches per sample (i.e. the num of patch files to read) </div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00092">offline_patches_npz.hpp:92</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_aaab0b9040ce248875b6cdb430e054b3a"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#aaab0b9040ce248875b6cdb430e054b3a">lbann::offline_patches_npz::m_variant_divider</a></div><div class="ttdeci">std::string m_variant_divider</div><div class="ttdoc">A substring after which the file name of variants begins to differ (e.g., &quot;.JPEG.&quot;) ...</div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00114">offline_patches_npz.hpp:114</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a488eedf6984032c6102d3a2139f7de08"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a488eedf6984032c6102d3a2139f7de08">lbann::offline_patches_npz::get_num_samples</a></div><div class="ttdeci">size_t get_num_samples() const </div><div class="ttdoc">Return the number of samples. </div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00072">offline_patches_npz.hpp:72</a></div></div>
<div class="ttc" id="namespacelbann_1_1cnpy__utils_html_a120e5719167d6d20b2a98c4282fd7a50"><div class="ttname"><a href="namespacelbann_1_1cnpy__utils.html#a120e5719167d6d20b2a98c4282fd7a50">lbann::cnpy_utils::show_shape</a></div><div class="ttdeci">std::string show_shape(const cnpy::NpyArray &amp;na)</div><div class="ttdoc">Show the dimensions of loaded data. </div><div class="ttdef"><b>Definition:</b> <a href="cnpy__utils_8cpp_source.html#l00070">cnpy_utils.cpp:70</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1offline__patches__npz_a9f485894e28235bfa039ccbce4210cdf_cgraph.png" border="0" usemap="#classlbann_1_1offline__patches__npz_a9f485894e28235bfa039ccbce4210cdf_cgraph" alt=""/></div>
<map name="classlbann_1_1offline__patches__npz_a9f485894e28235bfa039ccbce4210cdf_cgraph" id="classlbann_1_1offline__patches__npz_a9f485894e28235bfa039ccbce4210cdf_cgraph">
<area shape="rect" id="node2" href="namespacelbann_1_1cnpy__utils.html#a120e5719167d6d20b2a98c4282fd7a50" title="Show the dimensions of loaded data. " alt="" coords="221,5,349,46"/><area shape="rect" id="node3" href="classlbann_1_1offline__patches__npz.html#a488eedf6984032c6102d3a2139f7de08" title="Return the number of samples. " alt="" coords="203,70,367,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8a5ca833ae24c6256c2d27af00edb528"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlbann_1_1offline__patches__npz.html#ae0ed6bf62b2be1814964206522ed4e05">offline_patches_npz::label_t</a> lbann::offline_patches_npz::get_label </td>
          <td>(</td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>idx</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the label of idx-th sample. </p>

<p>Definition at line <a class="el" href="offline__patches__npz_8cpp_source.html#l00203">203</a> of file <a class="el" href="offline__patches__npz_8cpp_source.html">offline_patches_npz.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                                                                                {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classlbann_1_1offline__patches__npz.html#ab434320c2084790a2c99257d6c39fc85">m_checked_ok</a> || idx &gt;= <a class="code" href="classlbann_1_1offline__patches__npz.html#a488eedf6984032c6102d3a2139f7de08">get_num_samples</a>()) {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">throw</span> lbann_exception(<span class="stringliteral">&quot;offline_patches_npz: invalid sample index&quot;</span>);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1offline__patches__npz.html#a5f90dc1b898f8ad9d7ea16c188738419">m_item_class_list</a>[idx];</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a5f90dc1b898f8ad9d7ea16c188738419"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a5f90dc1b898f8ad9d7ea16c188738419">lbann::offline_patches_npz::m_item_class_list</a></div><div class="ttdeci">std::vector&lt; label_t &gt; m_item_class_list</div><div class="ttdoc">list of labels (dimension: num_samples) </div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00104">offline_patches_npz.hpp:104</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_ab434320c2084790a2c99257d6c39fc85"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#ab434320c2084790a2c99257d6c39fc85">lbann::offline_patches_npz::m_checked_ok</a></div><div class="ttdeci">bool m_checked_ok</div><div class="ttdoc">Whether loaded data have passed the format check. </div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00090">offline_patches_npz.hpp:90</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a488eedf6984032c6102d3a2139f7de08"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a488eedf6984032c6102d3a2139f7de08">lbann::offline_patches_npz::get_num_samples</a></div><div class="ttdeci">size_t get_num_samples() const </div><div class="ttdoc">Return the number of samples. </div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00072">offline_patches_npz.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1offline__patches__npz_a8a5ca833ae24c6256c2d27af00edb528_cgraph.png" border="0" usemap="#classlbann_1_1offline__patches__npz_a8a5ca833ae24c6256c2d27af00edb528_cgraph" alt=""/></div>
<map name="classlbann_1_1offline__patches__npz_a8a5ca833ae24c6256c2d27af00edb528_cgraph" id="classlbann_1_1offline__patches__npz_a8a5ca833ae24c6256c2d27af00edb528_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1offline__patches__npz.html#a488eedf6984032c6102d3a2139f7de08" title="Return the number of samples. " alt="" coords="203,5,367,46"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1offline__patches__npz_a8a5ca833ae24c6256c2d27af00edb528_icgraph.png" border="0" usemap="#classlbann_1_1offline__patches__npz_a8a5ca833ae24c6256c2d27af00edb528_icgraph" alt=""/></div>
<map name="classlbann_1_1offline__patches__npz_a8a5ca833ae24c6256c2d27af00edb528_icgraph" id="classlbann_1_1offline__patches__npz_a8a5ca833ae24c6256c2d27af00edb528_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1data__reader__triplet.html#a69dc790a54edde4d123fd7e62df6e5b8" title="lbann::data_reader\l_triplet::fetch_label" alt="" coords="203,5,335,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad202c540e10a5547f2c6e751789e904c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t lbann::offline_patches_npz::get_num_patches </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the number of patches per sample (the number of image data sources) </p>

<p>Definition at line <a class="el" href="offline__patches__npz_8hpp_source.html#l00076">76</a> of file <a class="el" href="offline__patches__npz_8hpp_source.html">offline_patches_npz.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                                 {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1offline__patches__npz.html#a5c13583d344641295301f82a32ebee41">m_num_patches</a>;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a5c13583d344641295301f82a32ebee41"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a5c13583d344641295301f82a32ebee41">lbann::offline_patches_npz::m_num_patches</a></div><div class="ttdeci">size_t m_num_patches</div><div class="ttdoc">The number of image patches per sample (i.e. the num of patch files to read) </div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00092">offline_patches_npz.hpp:92</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a488eedf6984032c6102d3a2139f7de08"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t lbann::offline_patches_npz::get_num_samples </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the number of samples. </p>

<p>Definition at line <a class="el" href="offline__patches__npz_8hpp_source.html#l00072">72</a> of file <a class="el" href="offline__patches__npz_8hpp_source.html">offline_patches_npz.hpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                                 {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1offline__patches__npz.html#a5f90dc1b898f8ad9d7ea16c188738419">m_item_class_list</a>.size();</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  }</div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a5f90dc1b898f8ad9d7ea16c188738419"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a5f90dc1b898f8ad9d7ea16c188738419">lbann::offline_patches_npz::m_item_class_list</a></div><div class="ttdeci">std::vector&lt; label_t &gt; m_item_class_list</div><div class="ttdoc">list of labels (dimension: num_samples) </div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00104">offline_patches_npz.hpp:104</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1offline__patches__npz_a488eedf6984032c6102d3a2139f7de08_icgraph.png" border="0" usemap="#classlbann_1_1offline__patches__npz_a488eedf6984032c6102d3a2139f7de08_icgraph" alt=""/></div>
<map name="classlbann_1_1offline__patches__npz_a488eedf6984032c6102d3a2139f7de08_icgraph" id="classlbann_1_1offline__patches__npz_a488eedf6984032c6102d3a2139f7de08_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1data__reader__triplet.html#a0d6fab388e795cdad4c5ea138a7eac40" title="Allow read&#45;only access to the entire sample list. " alt="" coords="417,5,570,46"/><area shape="rect" id="node3" href="classlbann_1_1data__reader__triplet.html#a2601234d6d501df6170c6fb60dfb873e" title="lbann::data_reader\l_triplet::load" alt="" coords="229,34,358,75"/><area shape="rect" id="node4" href="classlbann_1_1offline__patches__npz.html#a9f485894e28235bfa039ccbce4210cdf" title="Show the description. " alt="" coords="219,99,368,141"/><area shape="rect" id="node5" href="classlbann_1_1offline__patches__npz.html#a4e63765b79f39e421c78a5b62e0a9188" title="Reconsturct and return the meta&#45;data (patch file names and the label) of idx&#45;th sample. " alt="" coords="219,165,368,206"/><area shape="rect" id="node10" href="classlbann_1_1offline__patches__npz.html#a8a5ca833ae24c6256c2d27af00edb528" title="Return the label of idx&#45;th sample. " alt="" coords="219,239,368,281"/><area shape="rect" id="node6" href="classlbann_1_1data__reader__triplet.html#a2a797a316e33798688f1c0a6242bf6f2" title="lbann::data_reader\l_triplet::get_sample" alt="" coords="425,85,561,126"/><area shape="rect" id="node8" href="classlbann_1_1data__reader__triplet.html#af3f41e46bef2fbd3e19d545fa27f11ce" title="lbann::data_reader\l_triplet::fetch_datum" alt="" coords="423,150,564,191"/><area shape="rect" id="node9" href="classlbann_1_1data__reader__triplet.html#a0acab2495eff95a46bc4b92a8f1f88e6" title="Return the sample list of current minibatch. " alt="" coords="425,215,561,271"/><area shape="rect" id="node7" href="classlbann_1_1data__store__triplet.html#ade5d2290c85e7916e828553f4ab4f379" title="lbann::data_store_triplet\l::get_sample" alt="" coords="619,85,781,126"/><area shape="rect" id="node11" href="classlbann_1_1data__reader__triplet.html#a69dc790a54edde4d123fd7e62df6e5b8" title="lbann::data_reader\l_triplet::fetch_label" alt="" coords="427,294,559,335"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4e63765b79f39e421c78a5b62e0a9188"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlbann_1_1offline__patches__npz.html#a61405205f907a697515786d0a9e7858a">offline_patches_npz::sample_t</a> lbann::offline_patches_npz::get_sample </td>
          <td>(</td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>idx</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reconsturct and return the meta-data (patch file names and the label) of idx-th sample. </p>

<p>Definition at line <a class="el" href="offline__patches__npz_8cpp_source.html#l00174">174</a> of file <a class="el" href="offline__patches__npz_8cpp_source.html">offline_patches_npz.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                                                                                  {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classlbann_1_1offline__patches__npz.html#ab434320c2084790a2c99257d6c39fc85">m_checked_ok</a> || idx &gt;= <a class="code" href="classlbann_1_1offline__patches__npz.html#a488eedf6984032c6102d3a2139f7de08">get_num_samples</a>()) {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <span class="keywordflow">throw</span> lbann_exception(<span class="stringliteral">&quot;offline_patches_npz: invalid sample index&quot;</span>);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  std::vector&lt;std::string&gt; file_names;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> p = 0u; p &lt; <a class="code" href="classlbann_1_1offline__patches__npz.html#a5c13583d344641295301f82a32ebee41">m_num_patches</a>; ++p) {</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> root = cnpy_utils::data&lt;size_t&gt;(<a class="code" href="classlbann_1_1offline__patches__npz.html#a5d61c89e80f8e67b4850fb72792ce862">m_item_root_list</a>, {idx, p});</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordflow">if</span> (root &gt;= <a class="code" href="classlbann_1_1offline__patches__npz.html#a515ef05ef0679f3b6f1197d1ab47bfb3">m_file_root_list</a>.size()) {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;      <span class="keyword">using</span> std::to_string;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      <span class="keywordflow">throw</span> lbann_exception(<span class="stringliteral">&quot;offline_patches_npz: invalid file_root_list index: &quot;</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                          + to_string(root) + <span class="stringliteral">&quot; &gt;= &quot;</span> + to_string(<a class="code" href="classlbann_1_1offline__patches__npz.html#a515ef05ef0679f3b6f1197d1ab47bfb3">m_file_root_list</a>.size()));</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    std::string file_name = <a class="code" href="classlbann_1_1offline__patches__npz.html#a515ef05ef0679f3b6f1197d1ab47bfb3">m_file_root_list</a>.at(root);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span>* variant = &amp;(cnpy_utils::data&lt;size_t&gt;(<a class="code" href="classlbann_1_1offline__patches__npz.html#a5aec35e7b2f9956b8e7e8ce5cbb3ff22">m_item_variant_list</a>, {idx, p, 0u}));</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> ve = m_item_variant_list.shape.back()-1;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; ve; ++i) {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;      file_name += <a class="code" href="classlbann_1_1offline__patches__npz.html#a164d2bd134dc8c3946dc28d6ec5da0ec">m_file_variant_list</a>.at(variant[i]) + <a class="code" href="classlbann_1_1offline__patches__npz.html#aaab0b9040ce248875b6cdb430e054b3a">m_variant_divider</a>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    file_name += <a class="code" href="classlbann_1_1offline__patches__npz.html#a164d2bd134dc8c3946dc28d6ec5da0ec">m_file_variant_list</a>.at(variant[ve]);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    file_names.push_back(file_name);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keywordflow">return</span> std::make_pair(file_names, <a class="code" href="classlbann_1_1offline__patches__npz.html#a5f90dc1b898f8ad9d7ea16c188738419">m_item_class_list</a>[idx]);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;}</div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a5d61c89e80f8e67b4850fb72792ce862"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a5d61c89e80f8e67b4850fb72792ce862">lbann::offline_patches_npz::m_item_root_list</a></div><div class="ttdeci">cnpy::NpyArray m_item_root_list</div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00097">offline_patches_npz.hpp:97</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a5aec35e7b2f9956b8e7e8ce5cbb3ff22"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a5aec35e7b2f9956b8e7e8ce5cbb3ff22">lbann::offline_patches_npz::m_item_variant_list</a></div><div class="ttdeci">cnpy::NpyArray m_item_variant_list</div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00102">offline_patches_npz.hpp:102</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a515ef05ef0679f3b6f1197d1ab47bfb3"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a515ef05ef0679f3b6f1197d1ab47bfb3">lbann::offline_patches_npz::m_file_root_list</a></div><div class="ttdeci">std::vector&lt; std::string &gt; m_file_root_list</div><div class="ttdoc">The list of common substrings that a file path starts with (dimension is, for example 1000 in case of...</div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00106">offline_patches_npz.hpp:106</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a5f90dc1b898f8ad9d7ea16c188738419"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a5f90dc1b898f8ad9d7ea16c188738419">lbann::offline_patches_npz::m_item_class_list</a></div><div class="ttdeci">std::vector&lt; label_t &gt; m_item_class_list</div><div class="ttdoc">list of labels (dimension: num_samples) </div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00104">offline_patches_npz.hpp:104</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_ab434320c2084790a2c99257d6c39fc85"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#ab434320c2084790a2c99257d6c39fc85">lbann::offline_patches_npz::m_checked_ok</a></div><div class="ttdeci">bool m_checked_ok</div><div class="ttdoc">Whether loaded data have passed the format check. </div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00090">offline_patches_npz.hpp:90</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a164d2bd134dc8c3946dc28d6ec5da0ec"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a164d2bd134dc8c3946dc28d6ec5da0ec">lbann::offline_patches_npz::m_file_variant_list</a></div><div class="ttdeci">std::vector&lt; std::string &gt; m_file_variant_list</div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00108">offline_patches_npz.hpp:108</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a5c13583d344641295301f82a32ebee41"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a5c13583d344641295301f82a32ebee41">lbann::offline_patches_npz::m_num_patches</a></div><div class="ttdeci">size_t m_num_patches</div><div class="ttdoc">The number of image patches per sample (i.e. the num of patch files to read) </div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00092">offline_patches_npz.hpp:92</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_aaab0b9040ce248875b6cdb430e054b3a"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#aaab0b9040ce248875b6cdb430e054b3a">lbann::offline_patches_npz::m_variant_divider</a></div><div class="ttdeci">std::string m_variant_divider</div><div class="ttdoc">A substring after which the file name of variants begins to differ (e.g., &quot;.JPEG.&quot;) ...</div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00114">offline_patches_npz.hpp:114</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a488eedf6984032c6102d3a2139f7de08"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a488eedf6984032c6102d3a2139f7de08">lbann::offline_patches_npz::get_num_samples</a></div><div class="ttdeci">size_t get_num_samples() const </div><div class="ttdoc">Return the number of samples. </div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00072">offline_patches_npz.hpp:72</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1offline__patches__npz_a4e63765b79f39e421c78a5b62e0a9188_cgraph.png" border="0" usemap="#classlbann_1_1offline__patches__npz_a4e63765b79f39e421c78a5b62e0a9188_cgraph" alt=""/></div>
<map name="classlbann_1_1offline__patches__npz_a4e63765b79f39e421c78a5b62e0a9188_cgraph" id="classlbann_1_1offline__patches__npz_a4e63765b79f39e421c78a5b62e0a9188_cgraph">
<area shape="rect" id="node2" href="classlbann_1_1offline__patches__npz.html#a488eedf6984032c6102d3a2139f7de08" title="Return the number of samples. " alt="" coords="203,5,367,46"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1offline__patches__npz_a4e63765b79f39e421c78a5b62e0a9188_icgraph.png" border="0" usemap="#classlbann_1_1offline__patches__npz_a4e63765b79f39e421c78a5b62e0a9188_icgraph" alt=""/></div>
<map name="classlbann_1_1offline__patches__npz_a4e63765b79f39e421c78a5b62e0a9188_icgraph" id="classlbann_1_1offline__patches__npz_a4e63765b79f39e421c78a5b62e0a9188_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1data__reader__triplet.html#a2a797a316e33798688f1c0a6242bf6f2" title="lbann::data_reader\l_triplet::get_sample" alt="" coords="212,5,348,46"/><area shape="rect" id="node4" href="classlbann_1_1data__reader__triplet.html#af3f41e46bef2fbd3e19d545fa27f11ce" title="lbann::data_reader\l_triplet::fetch_datum" alt="" coords="209,70,351,111"/><area shape="rect" id="node5" href="classlbann_1_1data__reader__triplet.html#a0acab2495eff95a46bc4b92a8f1f88e6" title="Return the sample list of current minibatch. " alt="" coords="212,135,348,191"/><area shape="rect" id="node6" href="classlbann_1_1data__reader__triplet.html#a0d6fab388e795cdad4c5ea138a7eac40" title="Allow read&#45;only access to the entire sample list. " alt="" coords="203,214,357,255"/><area shape="rect" id="node3" href="classlbann_1_1data__store__triplet.html#ade5d2290c85e7916e828553f4ab4f379" title="lbann::data_store_triplet\l::get_sample" alt="" coords="406,5,567,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a29f1d64e32c857018d5ef21dd99fe7c4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::offline_patches_npz::load </td>
          <td>(</td>
          <td class="paramtype">const std::string&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>first_n</em> = <code>0u</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Load the data in the compressed numpy format file. Use only first_n available samples if specified. </p>

<p>Definition at line <a class="el" href="offline__patches__npz_8cpp_source.html#l00040">40</a> of file <a class="el" href="offline__patches__npz_8cpp_source.html">offline_patches_npz.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;                                                                       {</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <a class="code" href="classlbann_1_1offline__patches__npz.html#a5f90dc1b898f8ad9d7ea16c188738419">m_item_class_list</a>.clear();</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <a class="code" href="classlbann_1_1offline__patches__npz.html#a515ef05ef0679f3b6f1197d1ab47bfb3">m_file_root_list</a>.clear();</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;  <a class="code" href="classlbann_1_1offline__patches__npz.html#a164d2bd134dc8c3946dc28d6ec5da0ec">m_file_variant_list</a>.clear();</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="comment">// The list of arrays expected to be packed in the file.</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="comment">// &#39;max_class&#39; and &#39;variant_divider&#39; are scalar values, and known in advance.</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <span class="keyword">const</span> std::set&lt;std::string&gt; dict =</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    {<span class="stringliteral">&quot;item_root_list&quot;</span>,</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;     <span class="stringliteral">&quot;item_variant_list&quot;</span>,</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;     <span class="stringliteral">&quot;item_class_list&quot;</span>,</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;     <span class="stringliteral">&quot;file_root_list&quot;</span>,</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;     <span class="stringliteral">&quot;file_variant_list&quot;</span>,</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;     <span class="stringliteral">&quot;max_class&quot;</span>,</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;     <span class="stringliteral">&quot;variant_divider&quot;</span>};</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="namespacelbann.html#a4fac6c6483965395fa79d31061485f9f">check_if_file_exists</a>(filename)) {</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  }</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  cnpy::npz_t dataset = cnpy::npz_load(filename);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="comment">// check if all the arrays are included</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; np : dataset) {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">if</span> (dict.find(np.first) == dict.end()) {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    }</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  }</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  <span class="keywordflow">if</span> (first_n &gt; 0u) { <span class="comment">// to use only first_n samples</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="namespacelbann_1_1cnpy__utils.html#ab19ad0a361570b7e78e203c02d6ba13a">cnpy_utils::shrink_to_fit</a>(dataset[<span class="stringliteral">&quot;item_root_list&quot;</span>], first_n);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="namespacelbann_1_1cnpy__utils.html#ab19ad0a361570b7e78e203c02d6ba13a">cnpy_utils::shrink_to_fit</a>(dataset[<span class="stringliteral">&quot;item_variant_list&quot;</span>], first_n);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  }</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="comment">// Set the array of index sequences for root type</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <a class="code" href="classlbann_1_1offline__patches__npz.html#a5d61c89e80f8e67b4850fb72792ce862">m_item_root_list</a> = dataset[<span class="stringliteral">&quot;item_root_list&quot;</span>];</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <span class="keywordflow">if</span> (first_n &gt; 0u) { <span class="comment">// to use only first_n samples</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  }</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="comment">// Set the array of index sequences for variant type</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <a class="code" href="classlbann_1_1offline__patches__npz.html#a5aec35e7b2f9956b8e7e8ce5cbb3ff22">m_item_variant_list</a> = dataset[<span class="stringliteral">&quot;item_variant_list&quot;</span>];</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  { <span class="comment">// load the label array into a vector of label_t (uint8_t)</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    cnpy::NpyArray d_item_class_list = dataset[<span class="stringliteral">&quot;item_class_list&quot;</span>];</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="classlbann_1_1offline__patches__npz.html#ab434320c2084790a2c99257d6c39fc85">m_checked_ok</a> = (d_item_class_list.shape.size() == 1u);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classlbann_1_1offline__patches__npz.html#ab434320c2084790a2c99257d6c39fc85">m_checked_ok</a>) {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      <span class="comment">// In case of shrinking to first_n, make sure the size is consistent</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">size_t</span> num_samples = <a class="code" href="classlbann_1_1offline__patches__npz.html#a5d61c89e80f8e67b4850fb72792ce862">m_item_root_list</a>.shape[0];</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      <a class="code" href="classlbann_1_1offline__patches__npz.html#a5f90dc1b898f8ad9d7ea16c188738419">m_item_class_list</a>.resize(num_samples);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i=0u; i &lt; num_samples; ++i) {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        std::string digits(cnpy_utils::data_ptr&lt;char&gt;(d_item_class_list, {i}), d_item_class_list.word_size);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <a class="code" href="classlbann_1_1offline__patches__npz.html#a5f90dc1b898f8ad9d7ea16c188738419">m_item_class_list</a>[i] = <span class="keyword">static_cast&lt;</span><a class="code" href="classlbann_1_1offline__patches__npz.html#ae0ed6bf62b2be1814964206522ed4e05">label_t</a><span class="keyword">&gt;</span>(atoi(digits.c_str()));</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;      }</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    }</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    cnpy::npz_t::iterator it = dataset.find(<span class="stringliteral">&quot;item_class_list&quot;</span>);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    dataset.erase(it); <span class="comment">// to keep memory footprint as low as possible</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  }</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  { <span class="comment">// load the array of dictionary substrings of root type</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    cnpy::NpyArray d_file_root_list = dataset[<span class="stringliteral">&quot;file_root_list&quot;</span>];</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="classlbann_1_1offline__patches__npz.html#ab434320c2084790a2c99257d6c39fc85">m_checked_ok</a> = <a class="code" href="classlbann_1_1offline__patches__npz.html#ab434320c2084790a2c99257d6c39fc85">m_checked_ok</a> &amp;&amp; (d_file_root_list.shape.size() == 1u);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classlbann_1_1offline__patches__npz.html#ab434320c2084790a2c99257d6c39fc85">m_checked_ok</a>) {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">size_t</span> num_roots = d_file_root_list.shape[0];</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;      <a class="code" href="classlbann_1_1offline__patches__npz.html#a515ef05ef0679f3b6f1197d1ab47bfb3">m_file_root_list</a>.resize(num_roots);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i=0u; i &lt; num_roots; ++i) {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        std::string file_root(cnpy_utils::data_ptr&lt;char&gt;(d_file_root_list, {i}), d_file_root_list.word_size);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <a class="code" href="classlbann_1_1offline__patches__npz.html#a515ef05ef0679f3b6f1197d1ab47bfb3">m_file_root_list</a>[i] = std::string(file_root.c_str());</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      }</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    cnpy::npz_t::iterator it = dataset.find(<span class="stringliteral">&quot;file_root_list&quot;</span>);</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    dataset.erase(it); <span class="comment">// to keep memory footprint as low as possible</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="comment">//for (const auto&amp; fl: m_file_root_list) std::cout &lt;&lt; fl &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  { <span class="comment">// load the array of dictionary substrings of variant type</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    cnpy::NpyArray d_file_variant_list = dataset[<span class="stringliteral">&quot;file_variant_list&quot;</span>];</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="code" href="classlbann_1_1offline__patches__npz.html#ab434320c2084790a2c99257d6c39fc85">m_checked_ok</a> = <a class="code" href="classlbann_1_1offline__patches__npz.html#ab434320c2084790a2c99257d6c39fc85">m_checked_ok</a> &amp;&amp; (d_file_variant_list.shape.size() == 1u);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classlbann_1_1offline__patches__npz.html#ab434320c2084790a2c99257d6c39fc85">m_checked_ok</a>) {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      <span class="keyword">const</span> <span class="keywordtype">size_t</span> num_variants = d_file_variant_list.shape[0];</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;      <a class="code" href="classlbann_1_1offline__patches__npz.html#a164d2bd134dc8c3946dc28d6ec5da0ec">m_file_variant_list</a>.resize(num_variants);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i=0u; i &lt; num_variants; ++i) {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        std::string file_variant(cnpy_utils::data_ptr&lt;char&gt;(d_file_variant_list, {i}), d_file_variant_list.word_size);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <a class="code" href="classlbann_1_1offline__patches__npz.html#a164d2bd134dc8c3946dc28d6ec5da0ec">m_file_variant_list</a>[i] = std::string(file_variant.c_str());</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;      }</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    }</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    cnpy::npz_t::iterator it = dataset.find(<span class="stringliteral">&quot;file_variant_list&quot;</span>);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    dataset.erase(it); <span class="comment">// to keep memory footprint as low as possible</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="comment">//for (const auto&amp; fl: m_file_variant_list) std::cout &lt;&lt; fl &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <a class="code" href="classlbann_1_1offline__patches__npz.html#ab434320c2084790a2c99257d6c39fc85">m_checked_ok</a> = <a class="code" href="classlbann_1_1offline__patches__npz.html#ab434320c2084790a2c99257d6c39fc85">m_checked_ok</a> &amp;&amp; <a class="code" href="classlbann_1_1offline__patches__npz.html#a7f1a8e1153a3f8cce480febdeea26e87">check_data</a>();</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="classlbann_1_1offline__patches__npz.html#ab434320c2084790a2c99257d6c39fc85">m_checked_ok</a>) {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="comment">//std::cout &lt;&lt; get_description();</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <a class="code" href="classlbann_1_1offline__patches__npz.html#a5f90dc1b898f8ad9d7ea16c188738419">m_item_class_list</a>.clear();</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <a class="code" href="classlbann_1_1offline__patches__npz.html#a515ef05ef0679f3b6f1197d1ab47bfb3">m_file_root_list</a>.clear();</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <a class="code" href="classlbann_1_1offline__patches__npz.html#a164d2bd134dc8c3946dc28d6ec5da0ec">m_file_variant_list</a>.clear();</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    <span class="keywordflow">throw</span> lbann_exception(<span class="stringliteral">&quot;offline_patches_npz: loaded data not consistent&quot;</span>);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  }</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="classlbann_1_1offline__patches__npz.html#ab434320c2084790a2c99257d6c39fc85">m_checked_ok</a>;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;}</div>
<div class="ttc" id="namespacelbann_html_a4fac6c6483965395fa79d31061485f9f"><div class="ttname"><a href="namespacelbann.html#a4fac6c6483965395fa79d31061485f9f">lbann::check_if_file_exists</a></div><div class="ttdeci">bool check_if_file_exists(const std::string &amp;filename)</div><div class="ttdoc">Return true if a file with the given name exists. </div><div class="ttdef"><b>Definition:</b> <a href="file__utils_8cpp_source.html#l00155">file_utils.cpp:155</a></div></div>
<div class="ttc" id="namespacelbann_1_1cnpy__utils_html_ab19ad0a361570b7e78e203c02d6ba13a"><div class="ttname"><a href="namespacelbann_1_1cnpy__utils.html#ab19ad0a361570b7e78e203c02d6ba13a">lbann::cnpy_utils::shrink_to_fit</a></div><div class="ttdeci">void shrink_to_fit(cnpy::NpyArray &amp;na, size_t sz)</div><div class="ttdef"><b>Definition:</b> <a href="cnpy__utils_8cpp_source.html#l00054">cnpy_utils.cpp:54</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a5d61c89e80f8e67b4850fb72792ce862"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a5d61c89e80f8e67b4850fb72792ce862">lbann::offline_patches_npz::m_item_root_list</a></div><div class="ttdeci">cnpy::NpyArray m_item_root_list</div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00097">offline_patches_npz.hpp:97</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a5aec35e7b2f9956b8e7e8ce5cbb3ff22"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a5aec35e7b2f9956b8e7e8ce5cbb3ff22">lbann::offline_patches_npz::m_item_variant_list</a></div><div class="ttdeci">cnpy::NpyArray m_item_variant_list</div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00102">offline_patches_npz.hpp:102</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a515ef05ef0679f3b6f1197d1ab47bfb3"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a515ef05ef0679f3b6f1197d1ab47bfb3">lbann::offline_patches_npz::m_file_root_list</a></div><div class="ttdeci">std::vector&lt; std::string &gt; m_file_root_list</div><div class="ttdoc">The list of common substrings that a file path starts with (dimension is, for example 1000 in case of...</div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00106">offline_patches_npz.hpp:106</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a5f90dc1b898f8ad9d7ea16c188738419"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a5f90dc1b898f8ad9d7ea16c188738419">lbann::offline_patches_npz::m_item_class_list</a></div><div class="ttdeci">std::vector&lt; label_t &gt; m_item_class_list</div><div class="ttdoc">list of labels (dimension: num_samples) </div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00104">offline_patches_npz.hpp:104</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_ab434320c2084790a2c99257d6c39fc85"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#ab434320c2084790a2c99257d6c39fc85">lbann::offline_patches_npz::m_checked_ok</a></div><div class="ttdeci">bool m_checked_ok</div><div class="ttdoc">Whether loaded data have passed the format check. </div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00090">offline_patches_npz.hpp:90</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a164d2bd134dc8c3946dc28d6ec5da0ec"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a164d2bd134dc8c3946dc28d6ec5da0ec">lbann::offline_patches_npz::m_file_variant_list</a></div><div class="ttdeci">std::vector&lt; std::string &gt; m_file_variant_list</div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00108">offline_patches_npz.hpp:108</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_ae0ed6bf62b2be1814964206522ed4e05"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#ae0ed6bf62b2be1814964206522ed4e05">lbann::offline_patches_npz::label_t</a></div><div class="ttdeci">uint8_t label_t</div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8hpp_source.html#l00056">offline_patches_npz.hpp:56</a></div></div>
<div class="ttc" id="classlbann_1_1offline__patches__npz_html_a7f1a8e1153a3f8cce480febdeea26e87"><div class="ttname"><a href="classlbann_1_1offline__patches__npz.html#a7f1a8e1153a3f8cce480febdeea26e87">lbann::offline_patches_npz::check_data</a></div><div class="ttdeci">bool check_data() const </div><div class="ttdoc">Check the dimensions of loaded data. </div><div class="ttdef"><b>Definition:</b> <a href="offline__patches__npz_8cpp_source.html#l00142">offline_patches_npz.cpp:142</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1offline__patches__npz_a29f1d64e32c857018d5ef21dd99fe7c4_cgraph.png" border="0" usemap="#classlbann_1_1offline__patches__npz_a29f1d64e32c857018d5ef21dd99fe7c4_cgraph" alt=""/></div>
<map name="classlbann_1_1offline__patches__npz_a29f1d64e32c857018d5ef21dd99fe7c4_cgraph" id="classlbann_1_1offline__patches__npz_a29f1d64e32c857018d5ef21dd99fe7c4_cgraph">
<area shape="rect" id="node2" href="namespacelbann.html#a4fac6c6483965395fa79d31061485f9f" title="Return true if a file with the given name exists. " alt="" coords="210,5,345,46"/><area shape="rect" id="node3" href="namespacelbann_1_1cnpy__utils.html#ab19ad0a361570b7e78e203c02d6ba13a" title="lbann::cnpy_utils::\lshrink_to_fit" alt="" coords="213,70,341,111"/><area shape="rect" id="node4" href="classlbann_1_1offline__patches__npz.html#a7f1a8e1153a3f8cce480febdeea26e87" title="Check the dimensions of loaded data. " alt="" coords="203,135,352,177"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlbann_1_1offline__patches__npz_a29f1d64e32c857018d5ef21dd99fe7c4_icgraph.png" border="0" usemap="#classlbann_1_1offline__patches__npz_a29f1d64e32c857018d5ef21dd99fe7c4_icgraph" alt=""/></div>
<map name="classlbann_1_1offline__patches__npz_a29f1d64e32c857018d5ef21dd99fe7c4_icgraph" id="classlbann_1_1offline__patches__npz_a29f1d64e32c857018d5ef21dd99fe7c4_icgraph">
<area shape="rect" id="node2" href="classlbann_1_1data__reader__triplet.html#a2601234d6d501df6170c6fb60dfb873e" title="lbann::data_reader\l_triplet::load" alt="" coords="203,5,333,46"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ab434320c2084790a2c99257d6c39fc85"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::offline_patches_npz::m_checked_ok</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether loaded data have passed the format check. </p>

<p>Definition at line <a class="el" href="offline__patches__npz_8hpp_source.html#l00090">90</a> of file <a class="el" href="offline__patches__npz_8hpp_source.html">offline_patches_npz.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a887aa89aa2d8d8c9e23af33f2bb949d9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool lbann::offline_patches_npz::m_fetch_text_dict_at_once</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>control how the text dictionary files are loaded: whether to load all at once and parse or to stream in </p>

<p>Definition at line <a class="el" href="offline__patches__npz_8hpp_source.html#l00116">116</a> of file <a class="el" href="offline__patches__npz_8hpp_source.html">offline_patches_npz.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a515ef05ef0679f3b6f1197d1ab47bfb3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; lbann::offline_patches_npz::m_file_root_list</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The list of common substrings that a file path starts with (dimension is, for example 1000 in case of imagenet data) </p>

<p>Definition at line <a class="el" href="offline__patches__npz_8hpp_source.html#l00106">106</a> of file <a class="el" href="offline__patches__npz_8hpp_source.html">offline_patches_npz.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab8c28a104b2c09f22831cb647f77d127"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string lbann::offline_patches_npz::m_file_root_list_name</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The text file name of file_root_list. </p>

<p>Definition at line <a class="el" href="offline__patches__npz_8hpp_source.html#l00110">110</a> of file <a class="el" href="offline__patches__npz_8hpp_source.html">offline_patches_npz.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a164d2bd134dc8c3946dc28d6ec5da0ec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::string&gt; lbann::offline_patches_npz::m_file_variant_list</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="offline__patches__npz_8hpp_source.html#l00108">108</a> of file <a class="el" href="offline__patches__npz_8hpp_source.html">offline_patches_npz.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="acf3a819a993f1dafd040e992fcbd205a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string lbann::offline_patches_npz::m_file_variant_list_name</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The text file name of file_variant_list. </p>

<p>Definition at line <a class="el" href="offline__patches__npz_8hpp_source.html#l00112">112</a> of file <a class="el" href="offline__patches__npz_8hpp_source.html">offline_patches_npz.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5f90dc1b898f8ad9d7ea16c188738419"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classlbann_1_1offline__patches__npz.html#ae0ed6bf62b2be1814964206522ed4e05">label_t</a>&gt; lbann::offline_patches_npz::m_item_class_list</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>list of labels (dimension: num_samples) </p>

<p>Definition at line <a class="el" href="offline__patches__npz_8hpp_source.html#l00104">104</a> of file <a class="el" href="offline__patches__npz_8hpp_source.html">offline_patches_npz.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5d61c89e80f8e67b4850fb72792ce862"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cnpy::NpyArray lbann::offline_patches_npz::m_item_root_list</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>List of index sequences to the dictionary of common file path substrings (m_file_root_list) per patch file (dimension: num_samples * num_patches) </p>

<p>Definition at line <a class="el" href="offline__patches__npz_8hpp_source.html#l00097">97</a> of file <a class="el" href="offline__patches__npz_8hpp_source.html">offline_patches_npz.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5aec35e7b2f9956b8e7e8ce5cbb3ff22"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cnpy::NpyArray lbann::offline_patches_npz::m_item_variant_list</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>List of index sequences to the dictionary of common file path substrings (m_file_variant_list) per patch file (dimension: num_samples * num_patches) </p>

<p>Definition at line <a class="el" href="offline__patches__npz_8hpp_source.html#l00102">102</a> of file <a class="el" href="offline__patches__npz_8hpp_source.html">offline_patches_npz.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5c13583d344641295301f82a32ebee41"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t lbann::offline_patches_npz::m_num_patches</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of image patches per sample (i.e. the num of patch files to read) </p>

<p>Definition at line <a class="el" href="offline__patches__npz_8hpp_source.html#l00092">92</a> of file <a class="el" href="offline__patches__npz_8hpp_source.html">offline_patches_npz.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aaab0b9040ce248875b6cdb430e054b3a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string lbann::offline_patches_npz::m_variant_divider</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A substring after which the file name of variants begins to differ (e.g., ".JPEG.") </p>

<p>Definition at line <a class="el" href="offline__patches__npz_8hpp_source.html#l00114">114</a> of file <a class="el" href="offline__patches__npz_8hpp_source.html">offline_patches_npz.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/travis/build/LLNL/lbann/include/lbann/data_readers/<a class="el" href="offline__patches__npz_8hpp_source.html">offline_patches_npz.hpp</a></li>
<li>/home/travis/build/LLNL/lbann/src/data_readers/<a class="el" href="offline__patches__npz_8cpp_source.html">offline_patches_npz.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacelbann.html">lbann</a></li><li class="navelem"><a class="el" href="classlbann_1_1offline__patches__npz.html">offline_patches_npz</a></li>
    <li class="footer">Generated on Fri May 11 2018 08:30:02 for LBANN by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
